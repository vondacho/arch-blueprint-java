<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - CustomerAT</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>CustomerAT</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/edu.obya.blueprint.customer.at.html">edu.obya.blueprint.customer.at</a> &gt; CustomerAT</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">23</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">17.084s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">A user must be authenticated to create</td>
<td class="success">0.176s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user must be authenticated to modify</td>
<td class="success">0.159s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user must be authenticated to read</td>
<td class="success">12.996s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user must be authenticated to remove</td>
<td class="success">0.143s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with no permission cannot create</td>
<td class="success">0.170s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with no permission cannot modify</td>
<td class="success">0.160s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with no permission cannot read</td>
<td class="success">0.248s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with no permission cannot remove</td>
<td class="success">0.174s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with write permission cannot remove</td>
<td class="success">0.254s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Add a new customer to the existing customers</td>
<td class="success">0.453s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.1</td>
<td class="success">0.164s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.1</td>
<td class="success">0.154s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.2</td>
<td class="success">0.164s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.2</td>
<td class="success">0.161s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.3</td>
<td class="success">0.156s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.3</td>
<td class="success">0.148s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.4</td>
<td class="success">0.155s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.4</td>
<td class="success">0.167s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">List all customers</td>
<td class="success">0.217s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Show one customer</td>
<td class="success">0.186s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">customer does exist</td>
<td class="success">0.159s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">customer does not exist</td>
<td class="success">0.156s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">replace one customer</td>
<td class="success">0.164s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>13:18:47.131 [Test worker] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
13:18:47.144 [Test worker] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
13:18:47.173 [Test worker] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
13:18:47.193 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
13:18:47.198 [Test worker] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: class path resource [edu/obya/blueprint/customer/at/CustomerCucumberBootstrap-context.xml] does not exist
13:18:47.203 [Test worker] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: class path resource [edu/obya/blueprint/customer/at/CustomerCucumberBootstrapContext.groovy] does not exist
13:18:47.204 [Test worker] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
13:18:47.345 [Test worker] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/runner/work/arch-blueprint-java/arch-blueprint-java/build/classes/java/main/edu/obya/blueprint/Application.class]
13:18:47.346 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
13:18:47.453 [Test worker] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: using defaults.
13:18:47.453 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
13:18:47.474 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@672a1c62, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@459b6c53, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@39e69ea7, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@490c7a83, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7e72a6cc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6015a4a5, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@6d0b0da6, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@4779aae6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2cd62003, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@61ab89b0, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5478ce1e, org.springframework.test.context.event.EventPublishingTestExecutionListener@5edc70ed, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4317850d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7e4c72d6, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6cd64b3f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@51b01550, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2ef0dd86, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3337d04c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6de6faa6, io.zonky.test.db.event.EventPublishingTestExecutionListener@3cad68df]
 ██████╗██╗   ██╗███████╗████████╗ ██████╗ ███╗   ███╗███████╗██████╗ 
██╔════╝██║   ██║██╔════╝╚══██╔══╝██╔═══██╗████╗ ████║██╔════╝██╔══██╗
██║     ██║   ██║███████╗   ██║   ██║   ██║██╔████╔██║█████╗  ██████╔╝
██║     ██║   ██║╚════██║   ██║   ██║   ██║██║╚██╔╝██║██╔══╝  ██╔══██╗
╚██████╗╚██████╔╝███████║   ██║   ╚██████╔╝██║ ╚═╝ ██║███████╗██║  ██║
 ╚═════╝ ╚═════╝ ╚══════╝   ╚═╝    ╚═════╝ ╚═╝     ╚═╝╚══════╝╚═╝  ╚═╝
2023-05-11 13:18:47.850  WARN 2493 --- [    Test worker] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/home/runner/.gradle/caches/modules-2/files-2.1/org.json/json/20220924/5aa95e7688f76c664af205c5937620f02688dfbc/json-20220924.jar!/org/json/JSONObject.class
	jar:file:/home/runner/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-05-11 13:18:47.871  INFO 2493 --- [    Test worker] e.o.b.c.at.CustomerCucumberBootstrap     : Starting CustomerCucumberBootstrap using Java 17.0.7 on fv-az298-252 with PID 2493 (started by runner in /home/runner/work/arch-blueprint-java/arch-blueprint-java)
2023-05-11 13:18:47.872  INFO 2493 --- [    Test worker] e.o.b.c.at.CustomerCucumberBootstrap     : The following 2 profiles are active: &quot;test&quot;, &quot;jpa&quot;
2023-05-11 13:18:49.172  INFO 2493 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-11 13:18:49.325  INFO 2493 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 145 ms. Found 1 JPA repository interfaces.
2023-05-11 13:18:49.777  INFO 2493 --- [    Test worker] EmbeddedDatabaseContextCustomizerFactory : Replacing 'dataSource' DataSource bean with embedded version
2023-05-11 13:18:50.625  INFO 2493 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.zalando.problem.spring.web.autoconfigure.security.ProblemSecurityAutoConfiguration' of type [org.zalando.problem.spring.web.autoconfigure.security.ProblemSecurityAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-11 13:18:50.659  INFO 2493 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'io.zonky.test.db.config.EmbeddedDatabaseAutoConfiguration' of type [io.zonky.test.db.config.EmbeddedDatabaseAutoConfiguration$$EnhancerBySpringCGLIB$$a9807794] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-11 13:18:51.062  INFO 2493 --- [  prefetching-1] o.t.utility.ImageNameSubstitutor         : Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-05-11 13:18:51.083  INFO 2493 --- [  prefetching-1] o.t.d.DockerClientProviderStrategy       : Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-05-11 13:18:51.496  INFO 2493 --- [  prefetching-1] o.t.d.DockerClientProviderStrategy       : Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-05-11 13:18:51.498  INFO 2493 --- [  prefetching-1] org.testcontainers.DockerClientFactory   : Docker host IP address is localhost
2023-05-11 13:18:51.520  INFO 2493 --- [  prefetching-1] org.testcontainers.DockerClientFactory   : Connected to docker: 
  Server Version: 20.10.24+azure-1
  API Version: 1.41
  Operating System: Ubuntu 22.04.2 LTS
  Total Memory: 6943 MB
2023-05-11 13:18:51.557  INFO 2493 --- [  prefetching-1] &#x1f433; [testcontainers/ryuk:0.3.4]           : Creating container for image: testcontainers/ryuk:0.3.4
2023-05-11 13:18:51.722  INFO 2493 --- [  prefetching-1] &#x1f433; [testcontainers/ryuk:0.3.4]           : Container testcontainers/ryuk:0.3.4 is starting: 1ddd0615e05f3f14e2eef62e6c4f8456ff90bd6396324fc828c2a12bbd3959dd
2023-05-11 13:18:52.155  INFO 2493 --- [  prefetching-1] &#x1f433; [testcontainers/ryuk:0.3.4]           : Container testcontainers/ryuk:0.3.4 started in PT0.626900448S
2023-05-11 13:18:52.162  INFO 2493 --- [  prefetching-1] o.t.utility.RyukResourceReaper           : Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-05-11 13:18:52.162  INFO 2493 --- [  prefetching-1] org.testcontainers.DockerClientFactory   : Checking the system...
2023-05-11 13:18:52.162  INFO 2493 --- [  prefetching-1] org.testcontainers.DockerClientFactory   : ✔︎ Docker server version should be at least 1.6.0
2023-05-11 13:18:52.163  INFO 2493 --- [  prefetching-1] &#x1f433; [postgres:11-alpine]                  : Creating container for image: postgres:11-alpine
2023-05-11 13:18:52.206  INFO 2493 --- [  prefetching-1] &#x1f433; [postgres:11-alpine]                  : Container postgres:11-alpine is starting: 2581f34b4be8c17750fe2f9edae0e6bd9126969dc6c9c409cc16d1bc0b2b0ecf
2023-05-11 13:18:54.045  INFO 2493 --- [  prefetching-1] &#x1f433; [postgres:11-alpine]                  : Container postgres:11-alpine started in PT1.882468325S
2023-05-11 13:18:54.061  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The files belonging to this database system will be owned by user &quot;postgres&quot;.
2023-05-11 13:18:54.062  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: This user must also own the server process.
2023-05-11 13:18:54.065  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-11 13:18:54.065  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The database cluster will be initialized with locale &quot;en_US.utf8&quot;.
2023-05-11 13:18:54.066  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The default database encoding has accordingly been set to &quot;UTF8&quot;.
2023-05-11 13:18:54.067  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The default text search configuration will be set to &quot;english&quot;.
2023-05-11 13:18:54.068  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-11 13:18:54.068  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: Data page checksums are disabled.
2023-05-11 13:18:54.068  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-11 13:18:54.068  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: fixing permissions on existing directory /var/lib/postgresql/data ... ok
2023-05-11 13:18:54.068  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: creating subdirectories ... ok
2023-05-11 13:18:54.068  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: selecting default max_connections ... 100
2023-05-11 13:18:54.068  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: selecting default shared_buffers ... 128MB
2023-05-11 13:18:54.068  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: selecting default timezone ... UTC
2023-05-11 13:18:54.068  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: selecting dynamic shared memory implementation ... posix
2023-05-11 13:18:54.069  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: creating configuration files ... ok
2023-05-11 13:18:54.069  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: running bootstrap script ... ok
2023-05-11 13:18:54.069  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: sh: locale: not found
2023-05-11 13:18:54.069  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-11 13:18:53.008 UTC [30] WARNING:  no usable system locales were found
2023-05-11 13:18:54.069  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: performing post-bootstrap initialization ... ok
2023-05-11 13:18:54.069  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-11 13:18:54.069  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: Sync to disk skipped.
2023-05-11 13:18:54.069  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The data directory might become corrupt if the operating system crashes.
2023-05-11 13:18:54.070  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-11 13:18:54.070  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: Success. You can now start the database server using:
2023-05-11 13:18:54.070  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-11 13:18:54.070  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT:     pg_ctl -D /var/lib/postgresql/data -l logfile start
2023-05-11 13:18:54.070  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-11 13:18:54.070  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 
2023-05-11 13:18:54.070  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: WARNING: enabling &quot;trust&quot; authentication for local connections
2023-05-11 13:18:54.071  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: You can change this by editing pg_hba.conf or using the option -A, or
2023-05-11 13:18:54.071  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: --auth-local and --auth-host, the next time you run initdb.
2023-05-11 13:18:54.071  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: waiting for server to start....2023-05-11 13:18:53.539 UTC [36] LOG:  listening on Unix socket &quot;/var/run/postgresql/.s.PGSQL.5432&quot;
2023-05-11 13:18:54.071  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-11 13:18:53.556 UTC [37] LOG:  database system was shut down at 2023-05-11 13:18:53 UTC
2023-05-11 13:18:54.071  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-11 13:18:53.563 UTC [36] LOG:  database system is ready to accept connections
2023-05-11 13:18:54.078  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT:  done
2023-05-11 13:18:54.084  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: server started
2023-05-11 13:18:54.085  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: CREATE DATABASE
2023-05-11 13:18:54.085  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-11 13:18:54.085  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-11 13:18:54.085  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*
2023-05-11 13:18:54.087  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-11 13:18:54.088  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-11 13:18:53.891 UTC [36] LOG:  received fast shutdown request
2023-05-11 13:18:54.088  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-11 13:18:53.892 UTC [36] LOG:  aborting any active transactions
2023-05-11 13:18:54.088  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-11 13:18:53.895 UTC [36] LOG:  background worker &quot;logical replication launcher&quot; (PID 43) exited with exit code 1
2023-05-11 13:18:54.089  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: waiting for server to shut down....2023-05-11 13:18:53.896 UTC [38] LOG:  shutting down
2023-05-11 13:18:54.089  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-11 13:18:53.902 UTC [36] LOG:  database system is shut down
2023-05-11 13:18:54.090  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT:  done
2023-05-11 13:18:54.090  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: server stopped
2023-05-11 13:18:54.091  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-11 13:18:54.091  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: PostgreSQL init process complete; ready for start up.
2023-05-11 13:18:54.092  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-11 13:18:54.092  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-11 13:18:54.007 UTC [1] LOG:  listening on IPv4 address &quot;0.0.0.0&quot;, port 5432
2023-05-11 13:18:54.092  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-11 13:18:54.007 UTC [1] LOG:  listening on IPv6 address &quot;::&quot;, port 5432
2023-05-11 13:18:54.093  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-11 13:18:54.008 UTC [1] LOG:  listening on Unix socket &quot;/var/run/postgresql/.s.PGSQL.5432&quot;
2023-05-11 13:18:54.094  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-11 13:18:54.025 UTC [51] LOG:  database system was shut down at 2023-05-11 13:18:53 UTC
2023-05-11 13:18:54.094  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-11 13:18:54.043 UTC [1] LOG:  database system is ready to accept connections
2023-05-11 13:18:54.461  INFO 2493 --- [  prefetching-1] liquibase.database                       : Set default schema name to public
2023-05-11 13:18:54.504  WARN 2493 --- [  prefetching-1] liquibase.util                           : Failed to perform a method call for SnakeYaml because the version of SnakeYaml being used is too old. Consider upgrading to a SnakeYaml version equal to or newer than 1.32, by downloading and installing a newer version of Liquibase (which includes a newer version of SnakeYaml). Loading particularly large JSON and YAML documents (like snapshots) in Liquibase may fail if SnakeYaml is not upgraded.

java.lang.NoSuchMethodError: 'void org.yaml.snakeyaml.LoaderOptions.setCodePointLimit(int)'
	at liquibase.util.SnakeYamlUtil.lambda$setCodePointLimitSafely$0(SnakeYamlUtil.java:23) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.util.SnakeYamlUtil.safelyCallNewSnakeYamlMethod(SnakeYamlUtil.java:39) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.util.SnakeYamlUtil.setCodePointLimitSafely(SnakeYamlUtil.java:23) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.parser.core.yaml.YamlParser.createLoaderOptions(YamlParser.java:16) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:26) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:607) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:591) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase$16.run(Liquibase.java:2290) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:2639) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.listUnrunChangeSets(Liquibase.java:2286) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.isUpToDateFastCheck(Liquibase.java:506) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:237) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:2639) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:236) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:221) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284) ~[liquibase-core-4.20.0.jar:na]
	at io.zonky.test.db.liquibase.LiquibaseDatabasePreparer.prepare(LiquibaseDatabasePreparer.java:70) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.preparer.CompositeDatabasePreparer.prepare(CompositeDatabasePreparer.java:49) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.postgres.DockerPostgresDatabaseProvider$DatabaseInstance.createDatabase(DockerPostgresDatabaseProvider.java:214) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.postgres.DockerPostgresDatabaseProvider.createDatabase(DockerPostgresDatabaseProvider.java:114) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.postgres.DockerPostgresDatabaseProvider.createTemplate(DockerPostgresDatabaseProvider.java:102) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider.createTemplate(TemplatingDatabaseProvider.java:129) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider.lambda$createTemplateIfPossible$1(TemplatingDatabaseProvider.java:171) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider$TemplateWrapper.loadTemplate(TemplatingDatabaseProvider.java:294) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider$TemplateWrapper.access$200(TemplatingDatabaseProvider.java:224) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider.createTemplateIfPossible(TemplatingDatabaseProvider.java:171) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider.createDatabase(TemplatingDatabaseProvider.java:112) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider.createDatabase(TemplatingDatabaseProvider.java:104) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.PrefetchingDatabaseProvider$PrefetchingTask.lambda$forPreparer$0(PrefetchingDatabaseProvider.java:391) ~[embedded-database-spring-test-2.2.0.jar:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at io.zonky.test.db.provider.common.PrefetchingDatabaseProvider$PrefetchingTask.run(PrefetchingDatabaseProvider.java:420) ~[embedded-database-spring-test-2.2.0.jar:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-05-11 13:18:54.762  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-11 13:18:54.761 UTC [59] ERROR:  relation &quot;public.databasechangelog&quot; does not exist at character 22
2023-05-11 13:18:54.763  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-11 13:18:54.761 UTC [59] STATEMENT:  SELECT COUNT(*) FROM public.databasechangelog
2023-05-11 13:18:54.862  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-11 13:18:54.861 UTC [59] ERROR:  relation &quot;public.databasechangeloglock&quot; does not exist at character 22
2023-05-11 13:18:54.862  INFO 2493 --- [ream-1199320344] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-11 13:18:54.861 UTC [59] STATEMENT:  SELECT COUNT(*) FROM public.databasechangeloglock
2023-05-11 13:18:54.879  INFO 2493 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-11 13:18:54.883  INFO 2493 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-11 13:18:54.888  INFO 2493 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-11 13:18:54.894  INFO 2493 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-11 13:18:54.900  INFO 2493 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-11 13:18:54.901  INFO 2493 --- [  prefetching-1] liquibase.lockservice                    : Successfully acquired change log lock
2023-05-11 13:18:54.920  INFO 2493 --- [  prefetching-1] liquibase.changelog                      : Creating database history table with name: public.databasechangelog
2023-05-11 13:18:54.932  INFO 2493 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-11 13:18:54.934  INFO 2493 --- [  prefetching-1] liquibase.changelog                      : Reading from public.databasechangelog
2023-05-11 13:18:54.938  INFO 2493 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-11 13:18:54.940  INFO 2493 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
Running Changeset: db/changelog/db.changelog-1-added-customer-table.yaml::1.1::vondacho
2023-05-11 13:18:54.991  INFO 2493 --- [  prefetching-1] liquibase.changelog                      : Table customer created
2023-05-11 13:18:54.996  INFO 2493 --- [  prefetching-1] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-1-added-customer-table.yaml::1.1::vondacho ran successfully in 8ms
2023-05-11 13:18:55.000  INFO 2493 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-11 13:18:55.003  INFO 2493 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
Running Changeset: db/changelog/db.changelog-1-added-customer-table.yaml::1.2::vondacho
2023-05-11 13:18:55.009  INFO 2493 --- [  prefetching-1] liquibase.changelog                      : Index idx_customer_id created
2023-05-11 13:18:55.009  INFO 2493 --- [  prefetching-1] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-1-added-customer-table.yaml::1.2::vondacho ran successfully in 5ms
2023-05-11 13:18:55.012  INFO 2493 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-11 13:18:55.014  INFO 2493 --- [  prefetching-1] liquibase                                : Update command completed successfully.
2023-05-11 13:18:55.019  INFO 2493 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-11 13:18:55.019  INFO 2493 --- [  prefetching-1] liquibase.lockservice                    : Successfully released change log lock
2023-05-11 13:18:55.212  INFO 2493 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-05-11 13:18:55.263  INFO 2493 --- [    Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-05-11 13:18:55.313  INFO 2493 --- [    Test worker] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-05-11 13:18:55.459  INFO 2493 --- [    Test worker] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-05-11 13:18:55.917  INFO 2493 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-05-11 13:18:55.927  INFO 2493 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-05-11 13:18:58.048  INFO 2493 --- [    Test worker] s.w.a.s.ProblemSecurityBeanPostProcessor : Register HttpSecurity's exceptionHandling
2023-05-11 13:18:58.605  INFO 2493 --- [    Test worker] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/admin'
2023-05-11 13:18:58.690  INFO 2493 --- [    Test worker] o.z.p.s.w.a.s.ProblemHttpConfigurer      : Register HttpSecurity's exceptionHandling
2023-05-11 13:18:58.775  INFO 2493 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@686a08f4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@60b90fd3, org.springframework.security.web.context.SecurityContextPersistenceFilter@329cdafa, org.springframework.security.web.header.HeaderWriterFilter@4374c051, org.springframework.web.filter.CorsFilter@78494a59, org.springframework.security.web.authentication.logout.LogoutFilter@48c8c722, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5e388a77, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1f953e51, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4b0a6c53, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c79a727, org.springframework.security.web.session.SessionManagementFilter@2d5cb059, org.springframework.security.web.access.ExceptionTranslationFilter@654be52b, org.springframework.security.web.access.intercept.AuthorizationFilter@13e9a2f2]
2023-05-11 13:18:59.442  INFO 2493 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-05-11 13:18:59.443  INFO 2493 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-05-11 13:18:59.445  INFO 2493 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2023-05-11 13:18:59.542  INFO 2493 --- [    Test worker] e.o.b.c.at.CustomerCucumberBootstrap     : Started CustomerCucumberBootstrap in 12.033 seconds (JVM running for 14.733)
2023-05-11 13:18:59.646  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user must be authenticated to read                        ?[90m# features/access-control.feature:11?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser is not authenticated?[0m                                     ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserIsNotAuthenticated()?[0m
  ?[32mWhen ?[0m?[32mgetting existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.gettingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mUNAUTHORIZED?[0m                            ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-11 13:19:00.102  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-11 13:19:00.103  INFO 2493 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-11 13:19:00.108  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-11 13:19:00.110  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-11 13:19:00.111  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4041b733, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@43f06942, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6aa060f6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@579c15a7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1a29c848, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5a530836, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@331d645a, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@49b7eb3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@50a48de0, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@12f43d7a, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4a13a4ca, org.springframework.test.context.event.EventPublishingTestExecutionListener@152225dd, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@611d6114, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@52318fa0, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5d354d8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1db9572, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@bc4419c, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@55d683cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4a3c683d, io.zonky.test.db.event.EventPublishingTestExecutionListener@1791040d]
2023-05-11 13:19:00.118  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user with no permission cannot read                       ?[90m# features/access-control.feature:16?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser has no permission?[0m                                        ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasNoPermission()?[0m
2023-05-11 13:19:00.268  WARN 2493 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Forbidden: Access Denied
  ?[32mWhen ?[0m?[32mgetting existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.gettingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-11 13:19:00.361  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-11 13:19:00.363  INFO 2493 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-11 13:19:00.367  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-11 13:19:00.369  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-11 13:19:00.370  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4d6f83a5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@24bc7abd, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@10260f02, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6c303cdc, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5df3f854, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1a5d08c5, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@3a235a93, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@579847d7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@156b3428, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@67020d60, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@475534d1, org.springframework.test.context.event.EventPublishingTestExecutionListener@52e67513, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1e60d113, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@697ea6b2, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7e3f4f0, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@664c47f2, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7e3cea61, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@626b8822, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7ab7a4eb, io.zonky.test.db.event.EventPublishingTestExecutionListener@7ec00f98]
2023-05-11 13:19:00.378  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user must be authenticated to create ?[90m# features/access-control.feature:23?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m    ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser is not authenticated?[0m                ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserIsNotAuthenticated()?[0m
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m              ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | bob        | dylan     |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mUNAUTHORIZED?[0m       ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-11 13:19:00.544  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-11 13:19:00.547  INFO 2493 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-11 13:19:00.553  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-11 13:19:00.556  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-11 13:19:00.557  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@a538a7f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@24d90d03, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6b13d558, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@ad620fd, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1c4053aa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@709de434, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@551566a, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@3e3b5ff5, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2078869b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3fdb6ae4, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@30369973, org.springframework.test.context.event.EventPublishingTestExecutionListener@5416bc77, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@303ea430, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@54d66499, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@502f9271, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@313b6907, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@74e14434, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@13f4149d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3f64a088, io.zonky.test.db.event.EventPublishingTestExecutionListener@557d9532]
2023-05-11 13:19:00.561  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user with no permission cannot create ?[90m# features/access-control.feature:30?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m     ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser has no permission?[0m                    ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasNoPermission()?[0m
2023-05-11 13:19:00.692  WARN 2493 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Forbidden: Access Denied
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | bob        | dylan     |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m           ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-11 13:19:00.716  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-11 13:19:00.717  INFO 2493 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-11 13:19:00.722  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-11 13:19:00.724  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-11 13:19:00.724  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4c949ff9, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@73f3bf4f, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@176b8493, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@152705d0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7da43bda, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1343eae6, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@58c7bb01, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@75e32c4c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2945a3c1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@255d68d5, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@40a7c0cc, org.springframework.test.context.event.EventPublishingTestExecutionListener@2cca15d8, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2895e02b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@66403e2c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@181f2388, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@64079186, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6314b195, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4424285, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@65a022e6, io.zonky.test.db.event.EventPublishingTestExecutionListener@3d731475]
2023-05-11 13:19:00.728  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user must be authenticated to modify                        ?[90m# features/access-control.feature:37?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser is not authenticated?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserIsNotAuthenticated()?[0m
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | elvis      | presley   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mUNAUTHORIZED?[0m                              ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-11 13:19:00.881  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-11 13:19:00.882  INFO 2493 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-11 13:19:00.886  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-11 13:19:00.889  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-11 13:19:00.890  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@8499717, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@dc8cafb, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@75dbb21b, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4df25105, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@9478683, org.springframework.test.context.support.DirtiesContextTestExecutionListener@42930a42, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@6a702361, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@35d53d53, org.springframework.test.context.transaction.TransactionalTestExecutionListener@93d6f4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5a880dbe, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@318856a5, org.springframework.test.context.event.EventPublishingTestExecutionListener@2d2bda62, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@33918d45, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@29ee8374, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5a20c592, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@29abec7e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@166fa7ab, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4bc76331, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1717238e, io.zonky.test.db.event.EventPublishingTestExecutionListener@6129f50e]
2023-05-11 13:19:00.899  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user with no permission cannot modify                       ?[90m# features/access-control.feature:44?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser has no permission?[0m                                          ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasNoPermission()?[0m
2023-05-11 13:19:01.022  WARN 2493 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Forbidden: Access Denied
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | elvis      | presley   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m                                 ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-11 13:19:01.043  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-11 13:19:01.045  INFO 2493 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-11 13:19:01.048  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-11 13:19:01.050  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-11 13:19:01.051  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1448e2b6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2f9b33f1, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@69a0e285, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@41f53068, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@12fb37b2, org.springframework.test.context.support.DirtiesContextTestExecutionListener@64898aa7, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@a53f879, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@62cdff2b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@29400267, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1b4695a, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@14b1c925, org.springframework.test.context.event.EventPublishingTestExecutionListener@1908483f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@30722243, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@122e63ae, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@8cc682f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@53de80b9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@721fc0bb, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@13cdee45, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@78ab6103, io.zonky.test.db.event.EventPublishingTestExecutionListener@5f57fde7]
2023-05-11 13:19:01.054  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user must be authenticated to remove                       ?[90m# features/access-control.feature:51?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                          ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser is not authenticated?[0m                                      ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserIsNotAuthenticated()?[0m
  ?[32mWhen ?[0m?[32mremoving existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.removingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mUNAUTHORIZED?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-11 13:19:01.187  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-11 13:19:01.188  INFO 2493 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-11 13:19:01.191  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-11 13:19:01.192  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-11 13:19:01.193  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@74f17bb8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@43bb76d0, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@66f04451, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@68406796, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1793ed9d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@f061449, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@6bb01b34, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@27ad03, org.springframework.test.context.transaction.TransactionalTestExecutionListener@850579f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@374bbe80, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5c496ae6, org.springframework.test.context.event.EventPublishingTestExecutionListener@613b9bd9, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@6bddd4ce, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@108d88b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@16019c16, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2b59285c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2ea7e25d, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@692cab82, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@73d76b9d, io.zonky.test.db.event.EventPublishingTestExecutionListener@11aeb673]
2023-05-11 13:19:01.197  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user with no permission cannot remove                      ?[90m# features/access-control.feature:56?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                          ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser has no permission?[0m                                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasNoPermission()?[0m
2023-05-11 13:19:01.346  WARN 2493 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Forbidden: Access Denied
  ?[32mWhen ?[0m?[32mremoving existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.removingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m                                ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-11 13:19:01.363  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-11 13:19:01.364  INFO 2493 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-11 13:19:01.368  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-11 13:19:01.370  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-11 13:19:01.371  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@38648de6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@27ee8493, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@350a0ff6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@35da9f7f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@29cd3f9f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7a54fc29, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@1fc4292a, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@7e846cca, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3e759542, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@639d8311, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5d2e6b31, org.springframework.test.context.event.EventPublishingTestExecutionListener@91ae62, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@125ce4b7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1dd678e6, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@330fff8e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3ee0a533, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4bec8704, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@65d3d7d7, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@296ca76c, io.zonky.test.db.event.EventPublishingTestExecutionListener@129e564f]
2023-05-11 13:19:01.375  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user with write permission cannot remove                   ?[90m# features/access-control.feature:61?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                          ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                      ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
2023-05-11 13:19:01.604  WARN 2493 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Forbidden: Access is denied
  ?[32mWhen ?[0m?[32mremoving existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.removingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m                                ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-11 13:19:01.622  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-11 13:19:01.623  INFO 2493 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-11 13:19:01.626  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-11 13:19:01.627  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-11 13:19:01.627  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@fe32f34, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@55de1b68, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2040722f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@cfec1ec, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1af2c5c8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3f5298a5, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@1ca0546a, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@662b17b3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6a7b523b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@41c77861, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5f5a7737, org.springframework.test.context.event.EventPublishingTestExecutionListener@617275e0, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5128197f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2b56774b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@27b94ed9, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5596f2bb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@44e4fa97, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5c10216f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@31b273b2, io.zonky.test.db.event.EventPublishingTestExecutionListener@53534c15]
2023-05-11 13:19:01.630  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: Add a new customer to the existing customers                 ?[90m# features/create-customer.feature:12?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                      ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                            ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m    ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.theNextIdentifierIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.firstname=? and jpacustome0_.lastname=?
Hibernate: select jpacustome0_.pk as pk1_0_0_, jpacustome0_.firstname as firstnam2_0_0_, jpacustome0_.lastname as lastname3_0_0_, jpacustome0_.id as id4_0_0_ from customer jpacustome0_ where jpacustome0_.pk=?
Hibernate: insert into customer (firstname, lastname, id, pk) values (?, ?, ?, ?)
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m                                    ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | bob        | dylan     |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mCREATED?[0m                                  ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe returned customer id is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theReturnedIdIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is the following?[0m                   ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIs(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
2023-05-11 13:19:02.078  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-11 13:19:02.079  INFO 2493 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-11 13:19:02.081  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-11 13:19:02.082  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-11 13:19:02.083  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@66009368, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5bbda7e2, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@37500808, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@daa6654, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6fd33f5a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@596707f5, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@6ec05499, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@308617d3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4659d776, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@276038e7, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4be8d40e, org.springframework.test.context.event.EventPublishingTestExecutionListener@4bd06a2f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@433ae644, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@653b49c4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@687eb9c9, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@203737fb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@34abfd7f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@be1f747, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@164ca703, io.zonky.test.db.event.EventPublishingTestExecutionListener@f5dd2de]
2023-05-11 13:19:02.086  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: Add a customer with some invalid attributes       ?[90m# features/create-customer.feature:36?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                   ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.theNextIdentifierIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
2023-05-11 13:19:02.206 ERROR 2493 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=POST#/customers levels=ERROR messages=Validation failed.
[ERROR][REQUEST][POST /customers @body] Object has missing required properties ([&quot;firstName&quot;,&quot;lastName&quot;])
2023-05-11 13:19:02.225  WARN 2493 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;firstName\&quot;,\&quot;lastName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;POST&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m                                 ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | [empty]    | [empty]   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-11 13:19:02.248  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-11 13:19:02.249  INFO 2493 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-11 13:19:02.254  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-11 13:19:02.257  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-11 13:19:02.259  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@d95150c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@32f53573, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@4022a256, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@48430066, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6ddb5117, org.springframework.test.context.support.DirtiesContextTestExecutionListener@761eaf72, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@237b93f5, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@73ebf7cc, org.springframework.test.context.transaction.TransactionalTestExecutionListener@440f434f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@47690183, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@38f2c6a0, org.springframework.test.context.event.EventPublishingTestExecutionListener@148b13e5, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2a202f00, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@25ca56de, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@b234301, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@47fb7dbb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6c88026b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1b03d582, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@aa9b6a8, io.zonky.test.db.event.EventPublishingTestExecutionListener@162304e3]
2023-05-11 13:19:02.265  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: Add a customer with some invalid attributes       ?[90m# features/create-customer.feature:37?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                   ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.theNextIdentifierIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
2023-05-11 13:19:02.387 ERROR 2493 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=POST#/customers levels=ERROR messages=Validation failed.
[ERROR][REQUEST][POST /customers @body] Object has missing required properties ([&quot;lastName&quot;])
2023-05-11 13:19:02.388  WARN 2493 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;lastName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;POST&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m                                 ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | test       | [empty]   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-11 13:19:02.418  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-11 13:19:02.419  INFO 2493 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-11 13:19:02.421  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-11 13:19:02.423  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-11 13:19:02.424  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@50f71f48, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@14270715, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3b829ef, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38657ca8, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@500039b3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7cb39309, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@3e063a21, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@2d158175, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7c09f8c5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1cc20796, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@131af11d, org.springframework.test.context.event.EventPublishingTestExecutionListener@1205d422, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@21f9d977, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2d8b8469, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@695d0adc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@55456711, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3a182eaf, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4bc15d49, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4a4ba507, io.zonky.test.db.event.EventPublishingTestExecutionListener@34c83eb0]
2023-05-11 13:19:02.428  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: Add a customer with some invalid attributes       ?[90m# features/create-customer.feature:38?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                   ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.theNextIdentifierIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
2023-05-11 13:19:02.554 ERROR 2493 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=POST#/customers levels=ERROR messages=Validation failed.
[ERROR][REQUEST][POST /customers @body] Object has missing required properties ([&quot;firstName&quot;])
2023-05-11 13:19:02.555  WARN 2493 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;firstName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;POST&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m                                 ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | [empty]    | test      |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-11 13:19:02.575  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-11 13:19:02.577  INFO 2493 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-11 13:19:02.581  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-11 13:19:02.584  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-11 13:19:02.584  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5381acc6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@16db679e, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3074d565, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@42775280, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1cce2194, org.springframework.test.context.support.DirtiesContextTestExecutionListener@51645204, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@472d7ab0, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@3f36d387, org.springframework.test.context.transaction.TransactionalTestExecutionListener@52999774, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@211e1b51, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@d4a1d38, org.springframework.test.context.event.EventPublishingTestExecutionListener@4694dfd, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1ad55833, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4bc01cab, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@16be6b36, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@58f6dab9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@68d21554, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@23bc69a1, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@463e413b, io.zonky.test.db.event.EventPublishingTestExecutionListener@28736857]
2023-05-11 13:19:02.587  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: Add a customer with some invalid attributes       ?[90m# features/create-customer.feature:39?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                   ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.theNextIdentifierIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.firstname=? and jpacustome0_.lastname=?
2023-05-11 13:19:02.724  WARN 2493 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: customer john doe already exists.
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m                                 ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | john       | doe       |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-11 13:19:02.755  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-11 13:19:02.756  INFO 2493 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-11 13:19:02.758  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-11 13:19:02.762  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-11 13:19:02.763  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@61e23a44, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@283dd82a, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@53365a58, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3f2f5454, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4f6f69ef, org.springframework.test.context.support.DirtiesContextTestExecutionListener@95504a0, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@68d07b48, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@2d980ff2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@190c2bbf, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@38dd5c3a, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@533c7a52, org.springframework.test.context.event.EventPublishingTestExecutionListener@3eb60858, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@469f8de2, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@14f13587, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@24af33a1, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2ad51ba4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@109f7381, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@d5f3118, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@50b03929, io.zonky.test.db.event.EventPublishingTestExecutionListener@523a10a0]
2023-05-11 13:19:02.766  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: List all customers                        ?[90m# features/list-customer.feature:11?[0m
  ?[32mGiven ?[0m?[32muser has read permission?[0m                    ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasReadPermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_
  ?[32mWhen ?[0m?[32mlisting all existing customers?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.listingAllExistingCustomers()?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mOK?[0m                    ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe response contains the following customers?[0m ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseContainsTheFollowingCustomers(java.util.List&lt;edu.obya.blueprint.customer.adapter.rest.CustomerSummary&gt;)?[0m
    | id                                   | first-name | last-name | full-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       | john doe  |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     | bob dylan |
2023-05-11 13:19:02.976  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-11 13:19:02.976  INFO 2493 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-11 13:19:02.981  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-11 13:19:02.982  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-11 13:19:02.985  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@144ad1f5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@78eee5fc, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1880dbb2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6550903, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4452b545, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4b1c6936, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@55df76ac, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@7b6c6005, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2ac50ab0, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2388307, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2c7ceffa, org.springframework.test.context.event.EventPublishingTestExecutionListener@3408de38, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@369ad283, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@70fc5fec, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3bb47d36, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@49bf8d66, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@29d14018, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3bc079f1, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2385ee72, io.zonky.test.db.event.EventPublishingTestExecutionListener@16e483d9]
2023-05-11 13:19:02.989  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: Show one customer                                           ?[90m# features/list-customer.feature:19?[0m
  ?[32mGiven ?[0m?[32muser has read permission?[0m                                      ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasReadPermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.id=?
  ?[32mWhen ?[0m?[32mgetting existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.gettingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mOK?[0m                                      ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe response contains only the following customer?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseContainsOnlyTheFollowingCustomer(java.util.List&lt;edu.obya.blueprint.customer.adapter.rest.CustomerSummary&gt;)?[0m
    | id                                   | first-name | last-name | full-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       | john doe  |
2023-05-11 13:19:03.167  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-11 13:19:03.167  INFO 2493 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-11 13:19:03.170  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-11 13:19:03.171  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-11 13:19:03.172  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5f0669d9, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1c4f3b3d, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@211d17c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@41865dc1, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2da2bc89, org.springframework.test.context.support.DirtiesContextTestExecutionListener@48d1fcd3, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@44474e84, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@375c6b98, org.springframework.test.context.transaction.TransactionalTestExecutionListener@f22cf0e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@48528d5d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@369fc9bd, org.springframework.test.context.event.EventPublishingTestExecutionListener@62cb645d, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7b088db5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@276ccfec, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6f76289d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@56a640a2, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@697c0ae6, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@28aeab8a, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@76425cc2, io.zonky.test.db.event.EventPublishingTestExecutionListener@1285b1f8]
2023-05-11 13:19:03.176  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: customer does exist                                          ?[90m# features/remove-customer.feature:11?[0m
  ?[32mGiven ?[0m?[32muser has remove permission?[0m                                     ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasRemovePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                            ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.id=?
Hibernate: delete from customer where pk=?
  ?[32mWhen ?[0m?[32mremoving existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.removingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mNO_CONTENT?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customer ids is the following?[0m                ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomerIdsIs(java.util.List&lt;edu.obya.blueprint.customer.domain.model.CustomerId&gt;)?[0m
    | id                                   |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc |
2023-05-11 13:19:03.328  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-11 13:19:03.331  INFO 2493 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-11 13:19:03.334  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-11 13:19:03.336  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-11 13:19:03.336  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6c769cd8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3b7bc23a, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7f8b9fa7, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3906de9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5b58b11f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3e57d25c, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@1d021496, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@1dfdddfa, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3335713, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3f6b01b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@edda257, org.springframework.test.context.event.EventPublishingTestExecutionListener@7dbcbc7b, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@642ef710, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@526ee5e6, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@31423ae6, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@298517d1, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3a00f386, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1f6460f5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3f51fcf5, io.zonky.test.db.event.EventPublishingTestExecutionListener@3e6b4f51]
2023-05-11 13:19:03.339  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: customer does not exist                                      ?[90m# features/remove-customer.feature:18?[0m
  ?[32mGiven ?[0m?[32muser has remove permission?[0m                                     ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasRemovePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                            ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.id=?
2023-05-11 13:19:03.470  WARN 2493 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Not Found: customer cef60f2c-f5eb-4e2e-8f4b-d1e5dd8e9243 does not exist.
  ?[32mWhen ?[0m?[32mremoving existing customer ?[0m?[32m?[1mcef60f2c-f5eb-4e2e-8f4b-d1e5dd8e9243?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.removingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mNOT_FOUND?[0m                                ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m                  ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-11 13:19:03.494  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-11 13:19:03.495  INFO 2493 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-11 13:19:03.497  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-11 13:19:03.498  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-11 13:19:03.500  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2eba2e9d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7d7a13a7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@688c1b2a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@74b37c02, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@b027acf, org.springframework.test.context.support.DirtiesContextTestExecutionListener@26c8b723, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@2e15ad9b, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@41a98737, org.springframework.test.context.transaction.TransactionalTestExecutionListener@596559cf, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3a778c6f, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@390d87cf, org.springframework.test.context.event.EventPublishingTestExecutionListener@34902fe6, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4748a39a, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@41da4be8, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@14bc9fe3, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@21e67d8d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@23b05e58, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3026d4cd, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@401516ad, io.zonky.test.db.event.EventPublishingTestExecutionListener@520d0137]
2023-05-11 13:19:03.508  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: replace one customer                                          ?[90m# features/update-customer.feature:11?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.firstname=? and jpacustome0_.lastname=?
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.id=?
Hibernate: update customer set firstname=?, lastname=?, id=? where pk=?
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | elvis      | presley   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mNO_CONTENT?[0m                                ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is the following?[0m                    ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIs(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | elvis      | presley   |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
2023-05-11 13:19:03.660  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-11 13:19:03.662  INFO 2493 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-11 13:19:03.667  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-11 13:19:03.669  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-11 13:19:03.669  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@698af960, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2d8ef86b, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@44f2d195, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@778bdf42, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@49f4792a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@13638ddf, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@41cf885f, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@68172eeb, org.springframework.test.context.transaction.TransactionalTestExecutionListener@24037ea, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@d424f08, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3072b38f, org.springframework.test.context.event.EventPublishingTestExecutionListener@61c3b31c, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@623f27a9, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7d1a1ee9, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@58d1340e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@24f6375b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3f6f5e03, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@122ff251, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@438fc55e, io.zonky.test.db.event.EventPublishingTestExecutionListener@56567e9b]
2023-05-11 13:19:03.672  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: replace a customer with some invalid attributes       ?[90m# features/update-customer.feature:30?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
2023-05-11 13:19:03.798 ERROR 2493 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=PUT#/customers/ce751f30-217a-422c-b81b-8f75df4917b6 levels=ERROR messages=Validation failed.
[ERROR][REQUEST][PUT /customers/ce751f30-217a-422c-b81b-8f75df4917b6 @body] Object has missing required properties ([&quot;firstName&quot;,&quot;lastName&quot;])
2023-05-11 13:19:03.799  WARN 2493 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;firstName\&quot;,\&quot;lastName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers/ce751f30-217a-422c-b81b-8f75df4917b6&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;PUT&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | [empty]    | [empty]   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m                   ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-11 13:19:03.815  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-11 13:19:03.816  INFO 2493 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-11 13:19:03.819  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-11 13:19:03.821  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-11 13:19:03.823  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b310465, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5ea15dd4, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@543e228c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3aac686f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@90d4173, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5d16f27b, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@78999117, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@21af717b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@42caaae4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@28a50dec, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1c8020c6, org.springframework.test.context.event.EventPublishingTestExecutionListener@46febe84, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5174b135, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@513e0c9a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4c25906b, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7f1c1df5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@b95e63a, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2a6e710e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4a281ae0, io.zonky.test.db.event.EventPublishingTestExecutionListener@55c445e5]
2023-05-11 13:19:03.826  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: replace a customer with some invalid attributes       ?[90m# features/update-customer.feature:31?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
2023-05-11 13:19:03.954 ERROR 2493 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=PUT#/customers/ce751f30-217a-422c-b81b-8f75df4917b6 levels=ERROR messages=Validation failed.
[ERROR][REQUEST][PUT /customers/ce751f30-217a-422c-b81b-8f75df4917b6 @body] Object has missing required properties ([&quot;lastName&quot;])
2023-05-11 13:19:03.955  WARN 2493 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;lastName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers/ce751f30-217a-422c-b81b-8f75df4917b6&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;PUT&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | test       | [empty]   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m                   ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-11 13:19:03.977  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-11 13:19:03.978  INFO 2493 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-11 13:19:03.981  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-11 13:19:03.983  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-11 13:19:03.984  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3f993305, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@223973a9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@5c430208, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7fd03b0a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@9a72eee, org.springframework.test.context.support.DirtiesContextTestExecutionListener@606ab048, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@247dad0f, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@5a8bcae1, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6a6b5f00, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fb65af5, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@166a81d9, org.springframework.test.context.event.EventPublishingTestExecutionListener@12329d37, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2211432e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4f1dd46b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@d3bf018, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@be60fad, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@234635cc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2591343, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@50309820, io.zonky.test.db.event.EventPublishingTestExecutionListener@6b907eec]
2023-05-11 13:19:03.988  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: replace a customer with some invalid attributes       ?[90m# features/update-customer.feature:32?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
2023-05-11 13:19:04.109 ERROR 2493 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=PUT#/customers/ce751f30-217a-422c-b81b-8f75df4917b6 levels=ERROR messages=Validation failed.
[ERROR][REQUEST][PUT /customers/ce751f30-217a-422c-b81b-8f75df4917b6 @body] Object has missing required properties ([&quot;firstName&quot;])
2023-05-11 13:19:04.110  WARN 2493 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;firstName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers/ce751f30-217a-422c-b81b-8f75df4917b6&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;PUT&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | [empty]    | test      |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m                   ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-11 13:19:04.129  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-11 13:19:04.130  INFO 2493 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-11 13:19:04.134  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-11 13:19:04.136  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-11 13:19:04.136  INFO 2493 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7b7eb8c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@26d443e3, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@4e44f582, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@565b04e9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6e886e25, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6a47f34c, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@3c6f363, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@d34c3be, org.springframework.test.context.transaction.TransactionalTestExecutionListener@20e06d7b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@756837b8, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41019f9d, org.springframework.test.context.event.EventPublishingTestExecutionListener@6a039d30, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@492bbebe, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7d4a95d4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@307a0097, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4666f1b5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@52ac7989, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7be1b23d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1b7f7b6e, io.zonky.test.db.event.EventPublishingTestExecutionListener@6a65daed]
2023-05-11 13:19:04.139  INFO 2493 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/istwryvipaqp?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: replace a customer with some invalid attributes       ?[90m# features/update-customer.feature:33?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.firstname=? and jpacustome0_.lastname=?
2023-05-11 13:19:04.271  WARN 2493 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: customer bob dylan already exists.
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | bob        | dylan     |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m                   ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 8.0.2</a> at May 11, 2023, 1:19:04 PM</p>
</div>
</div>
</body>
</html>
