<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - CustomerAT</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>CustomerAT</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/edu.obya.blueprint.customer.at.html">edu.obya.blueprint.customer.at</a> &gt; CustomerAT</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">23</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">14.777s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">A user must be authenticated to create</td>
<td class="success">0.121s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user must be authenticated to modify</td>
<td class="success">0.112s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user must be authenticated to read</td>
<td class="success">11.520s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user must be authenticated to remove</td>
<td class="success">0.111s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with no permission cannot create</td>
<td class="success">0.114s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with no permission cannot modify</td>
<td class="success">0.115s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with no permission cannot read</td>
<td class="success">0.169s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with no permission cannot remove</td>
<td class="success">0.113s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with write permission cannot remove</td>
<td class="success">0.216s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Add a new customer to the existing customers</td>
<td class="success">0.430s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.1</td>
<td class="success">0.115s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.1</td>
<td class="success">0.186s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.2</td>
<td class="success">0.147s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.2</td>
<td class="success">0.116s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.3</td>
<td class="success">0.116s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.3</td>
<td class="success">0.128s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.4</td>
<td class="success">0.122s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.4</td>
<td class="success">0.125s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">List all customers</td>
<td class="success">0.180s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Show one customer</td>
<td class="success">0.139s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">customer does exist</td>
<td class="success">0.145s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">customer does not exist</td>
<td class="success">0.116s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">replace one customer</td>
<td class="success">0.121s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>09:12:08.109 [Test worker] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
09:12:08.136 [Test worker] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
09:12:08.175 [Test worker] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
09:12:08.196 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
09:12:08.200 [Test worker] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: class path resource [edu/obya/blueprint/customer/at/CustomerCucumberBootstrap-context.xml] does not exist
09:12:08.201 [Test worker] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: class path resource [edu/obya/blueprint/customer/at/CustomerCucumberBootstrapContext.groovy] does not exist
09:12:08.201 [Test worker] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
09:12:08.344 [Test worker] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/runner/work/arch-blueprint-java/arch-blueprint-java/build/classes/java/main/edu/obya/blueprint/Application.class]
09:12:08.346 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
09:12:08.461 [Test worker] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: using defaults.
09:12:08.462 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
09:12:08.482 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@672a1c62, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@459b6c53, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@39e69ea7, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@490c7a83, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7e72a6cc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6015a4a5, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@6d0b0da6, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@4779aae6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2cd62003, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@61ab89b0, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5478ce1e, org.springframework.test.context.event.EventPublishingTestExecutionListener@5edc70ed, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4317850d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7e4c72d6, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6cd64b3f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@51b01550, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2ef0dd86, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3337d04c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6de6faa6, io.zonky.test.db.event.EventPublishingTestExecutionListener@3cad68df]
 ██████╗██╗   ██╗███████╗████████╗ ██████╗ ███╗   ███╗███████╗██████╗ 
██╔════╝██║   ██║██╔════╝╚══██╔══╝██╔═══██╗████╗ ████║██╔════╝██╔══██╗
██║     ██║   ██║███████╗   ██║   ██║   ██║██╔████╔██║█████╗  ██████╔╝
██║     ██║   ██║╚════██║   ██║   ██║   ██║██║╚██╔╝██║██╔══╝  ██╔══██╗
╚██████╗╚██████╔╝███████║   ██║   ╚██████╔╝██║ ╚═╝ ██║███████╗██║  ██║
 ╚═════╝ ╚═════╝ ╚══════╝   ╚═╝    ╚═════╝ ╚═╝     ╚═╝╚══════╝╚═╝  ╚═╝
2023-05-22 09:12:08.832  WARN 2483 --- [    Test worker] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/home/runner/.gradle/caches/modules-2/files-2.1/org.json/json/20220924/5aa95e7688f76c664af205c5937620f02688dfbc/json-20220924.jar!/org/json/JSONObject.class
	jar:file:/home/runner/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-05-22 09:12:08.859  INFO 2483 --- [    Test worker] e.o.b.c.at.CustomerCucumberBootstrap     : Starting CustomerCucumberBootstrap using Java 17.0.7 on fv-az1256-291 with PID 2483 (started by runner in /home/runner/work/arch-blueprint-java/arch-blueprint-java)
2023-05-22 09:12:08.862  INFO 2483 --- [    Test worker] e.o.b.c.at.CustomerCucumberBootstrap     : The following 2 profiles are active: &quot;test&quot;, &quot;jpa&quot;
2023-05-22 09:12:10.022  INFO 2483 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-22 09:12:10.164  INFO 2483 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 135 ms. Found 1 JPA repository interfaces.
2023-05-22 09:12:10.517  INFO 2483 --- [    Test worker] EmbeddedDatabaseContextCustomizerFactory : Replacing 'dataSource' DataSource bean with embedded version
2023-05-22 09:12:11.295  INFO 2483 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.zalando.problem.spring.web.autoconfigure.security.ProblemSecurityAutoConfiguration' of type [org.zalando.problem.spring.web.autoconfigure.security.ProblemSecurityAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-22 09:12:11.332  INFO 2483 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'io.zonky.test.db.config.EmbeddedDatabaseAutoConfiguration' of type [io.zonky.test.db.config.EmbeddedDatabaseAutoConfiguration$$EnhancerBySpringCGLIB$$1c40e7ce] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-22 09:12:11.644  INFO 2483 --- [  prefetching-1] o.t.utility.ImageNameSubstitutor         : Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-05-22 09:12:11.660  INFO 2483 --- [  prefetching-1] o.t.d.DockerClientProviderStrategy       : Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-05-22 09:12:12.007  INFO 2483 --- [  prefetching-1] o.t.d.DockerClientProviderStrategy       : Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-05-22 09:12:12.009  INFO 2483 --- [  prefetching-1] org.testcontainers.DockerClientFactory   : Docker host IP address is localhost
2023-05-22 09:12:12.023  INFO 2483 --- [  prefetching-1] org.testcontainers.DockerClientFactory   : Connected to docker: 
  Server Version: 20.10.24+azure-1
  API Version: 1.41
  Operating System: Ubuntu 22.04.2 LTS
  Total Memory: 6943 MB
2023-05-22 09:12:12.049  INFO 2483 --- [  prefetching-1] &#x1f433; [testcontainers/ryuk:0.3.4]           : Creating container for image: testcontainers/ryuk:0.3.4
2023-05-22 09:12:12.151  INFO 2483 --- [  prefetching-1] &#x1f433; [testcontainers/ryuk:0.3.4]           : Container testcontainers/ryuk:0.3.4 is starting: 4008e29677ccee70897975f59264e3ec2114400aacef3d3dfede24277db4d9f7
2023-05-22 09:12:12.523  INFO 2483 --- [  prefetching-1] &#x1f433; [testcontainers/ryuk:0.3.4]           : Container testcontainers/ryuk:0.3.4 started in PT0.489804431S
2023-05-22 09:12:12.529  INFO 2483 --- [  prefetching-1] o.t.utility.RyukResourceReaper           : Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-05-22 09:12:12.530  INFO 2483 --- [  prefetching-1] org.testcontainers.DockerClientFactory   : Checking the system...
2023-05-22 09:12:12.530  INFO 2483 --- [  prefetching-1] org.testcontainers.DockerClientFactory   : ✔︎ Docker server version should be at least 1.6.0
2023-05-22 09:12:12.531  INFO 2483 --- [  prefetching-1] &#x1f433; [postgres:11-alpine]                  : Creating container for image: postgres:11-alpine
2023-05-22 09:12:12.553  INFO 2483 --- [  prefetching-1] &#x1f433; [postgres:11-alpine]                  : Container postgres:11-alpine is starting: 0fd6ed3d8cc9c9070f34a878d60b39f3dcf14498e9bc741ed1d5851185b23104
2023-05-22 09:12:14.127  INFO 2483 --- [  prefetching-1] &#x1f433; [postgres:11-alpine]                  : Container postgres:11-alpine started in PT1.595724854S
2023-05-22 09:12:14.135  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The files belonging to this database system will be owned by user &quot;postgres&quot;.
2023-05-22 09:12:14.135  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: This user must also own the server process.
2023-05-22 09:12:14.135  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:12:14.151  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The database cluster will be initialized with locale &quot;en_US.utf8&quot;.
2023-05-22 09:12:14.151  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The default database encoding has accordingly been set to &quot;UTF8&quot;.
2023-05-22 09:12:14.151  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The default text search configuration will be set to &quot;english&quot;.
2023-05-22 09:12:14.151  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:12:14.151  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: Data page checksums are disabled.
2023-05-22 09:12:14.151  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:12:14.152  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: fixing permissions on existing directory /var/lib/postgresql/data ... ok
2023-05-22 09:12:14.152  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: creating subdirectories ... ok
2023-05-22 09:12:14.152  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: selecting default max_connections ... 100
2023-05-22 09:12:14.152  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: selecting default shared_buffers ... 128MB
2023-05-22 09:12:14.152  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: selecting default timezone ... UTC
2023-05-22 09:12:14.152  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: selecting dynamic shared memory implementation ... posix
2023-05-22 09:12:14.152  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: creating configuration files ... ok
2023-05-22 09:12:14.152  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: running bootstrap script ... ok
2023-05-22 09:12:14.153  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: sh: locale: not found
2023-05-22 09:12:14.153  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-22 09:12:13.270 UTC [30] WARNING:  no usable system locales were found
2023-05-22 09:12:14.153  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: performing post-bootstrap initialization ... ok
2023-05-22 09:12:14.153  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:12:14.153  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: Sync to disk skipped.
2023-05-22 09:12:14.153  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The data directory might become corrupt if the operating system crashes.
2023-05-22 09:12:14.153  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 
2023-05-22 09:12:14.153  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: WARNING: enabling &quot;trust&quot; authentication for local connections
2023-05-22 09:12:14.153  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: You can change this by editing pg_hba.conf or using the option -A, or
2023-05-22 09:12:14.154  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: --auth-local and --auth-host, the next time you run initdb.
2023-05-22 09:12:14.154  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:12:14.154  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: Success. You can now start the database server using:
2023-05-22 09:12:14.154  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:12:14.154  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT:     pg_ctl -D /var/lib/postgresql/data -l logfile start
2023-05-22 09:12:14.154  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:12:14.154  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: waiting for server to start....2023-05-22 09:12:13.655 UTC [36] LOG:  listening on Unix socket &quot;/var/run/postgresql/.s.PGSQL.5432&quot;
2023-05-22 09:12:14.166  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-22 09:12:13.670 UTC [37] LOG:  database system was shut down at 2023-05-22 09:12:13 UTC
2023-05-22 09:12:14.167  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-22 09:12:13.675 UTC [36] LOG:  database system is ready to accept connections
2023-05-22 09:12:14.169  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT:  done
2023-05-22 09:12:14.171  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: server started
2023-05-22 09:12:14.171  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: CREATE DATABASE
2023-05-22 09:12:14.171  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:12:14.172  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:12:14.172  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*
2023-05-22 09:12:14.172  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:12:14.174  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: waiting for server to shut down....2023-05-22 09:12:13.991 UTC [36] LOG:  received fast shutdown request
2023-05-22 09:12:14.174  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-22 09:12:13.991 UTC [36] LOG:  aborting any active transactions
2023-05-22 09:12:14.175  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-22 09:12:13.993 UTC [36] LOG:  background worker &quot;logical replication launcher&quot; (PID 43) exited with exit code 1
2023-05-22 09:12:14.175  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-22 09:12:13.994 UTC [38] LOG:  shutting down
2023-05-22 09:12:14.175  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-22 09:12:13.998 UTC [36] LOG:  database system is shut down
2023-05-22 09:12:14.175  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT:  done
2023-05-22 09:12:14.175  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: server stopped
2023-05-22 09:12:14.175  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:12:14.175  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: PostgreSQL init process complete; ready for start up.
2023-05-22 09:12:14.175  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:12:14.175  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-22 09:12:14.099 UTC [1] LOG:  listening on IPv4 address &quot;0.0.0.0&quot;, port 5432
2023-05-22 09:12:14.175  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-22 09:12:14.100 UTC [1] LOG:  listening on IPv6 address &quot;::&quot;, port 5432
2023-05-22 09:12:14.176  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-22 09:12:14.100 UTC [1] LOG:  listening on Unix socket &quot;/var/run/postgresql/.s.PGSQL.5432&quot;
2023-05-22 09:12:14.176  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-22 09:12:14.115 UTC [51] LOG:  database system was shut down at 2023-05-22 09:12:13 UTC
2023-05-22 09:12:14.176  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-22 09:12:14.120 UTC [1] LOG:  database system is ready to accept connections
2023-05-22 09:12:14.422  INFO 2483 --- [  prefetching-1] liquibase.database                       : Set default schema name to public
2023-05-22 09:12:14.475  WARN 2483 --- [  prefetching-1] liquibase.util                           : Failed to perform a method call for SnakeYaml because the version of SnakeYaml being used is too old. Consider upgrading to a SnakeYaml version equal to or newer than 1.32, by downloading and installing a newer version of Liquibase (which includes a newer version of SnakeYaml). Loading particularly large JSON and YAML documents (like snapshots) in Liquibase may fail if SnakeYaml is not upgraded.

java.lang.NoSuchMethodError: 'void org.yaml.snakeyaml.LoaderOptions.setCodePointLimit(int)'
	at liquibase.util.SnakeYamlUtil.lambda$setCodePointLimitSafely$0(SnakeYamlUtil.java:23) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.util.SnakeYamlUtil.safelyCallNewSnakeYamlMethod(SnakeYamlUtil.java:39) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.util.SnakeYamlUtil.setCodePointLimitSafely(SnakeYamlUtil.java:23) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.parser.core.yaml.YamlParser.createLoaderOptions(YamlParser.java:16) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:26) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:607) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:591) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase$16.run(Liquibase.java:2290) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:2639) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.listUnrunChangeSets(Liquibase.java:2286) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.isUpToDateFastCheck(Liquibase.java:506) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:237) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:2639) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:236) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:221) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284) ~[liquibase-core-4.20.0.jar:na]
	at io.zonky.test.db.liquibase.LiquibaseDatabasePreparer.prepare(LiquibaseDatabasePreparer.java:70) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.preparer.CompositeDatabasePreparer.prepare(CompositeDatabasePreparer.java:49) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.postgres.DockerPostgresDatabaseProvider$DatabaseInstance.createDatabase(DockerPostgresDatabaseProvider.java:214) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.postgres.DockerPostgresDatabaseProvider.createDatabase(DockerPostgresDatabaseProvider.java:114) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.postgres.DockerPostgresDatabaseProvider.createTemplate(DockerPostgresDatabaseProvider.java:102) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider.createTemplate(TemplatingDatabaseProvider.java:129) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider.lambda$createTemplateIfPossible$1(TemplatingDatabaseProvider.java:171) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider$TemplateWrapper.loadTemplate(TemplatingDatabaseProvider.java:294) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider$TemplateWrapper.access$200(TemplatingDatabaseProvider.java:224) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider.createTemplateIfPossible(TemplatingDatabaseProvider.java:171) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider.createDatabase(TemplatingDatabaseProvider.java:112) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider.createDatabase(TemplatingDatabaseProvider.java:104) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.PrefetchingDatabaseProvider$PrefetchingTask.lambda$forPreparer$0(PrefetchingDatabaseProvider.java:391) ~[embedded-database-spring-test-2.2.0.jar:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at io.zonky.test.db.provider.common.PrefetchingDatabaseProvider$PrefetchingTask.run(PrefetchingDatabaseProvider.java:420) ~[embedded-database-spring-test-2.2.0.jar:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-05-22 09:12:14.735  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-22 09:12:14.735 UTC [59] ERROR:  relation &quot;public.databasechangelog&quot; does not exist at character 22
2023-05-22 09:12:14.736  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-22 09:12:14.735 UTC [59] STATEMENT:  SELECT COUNT(*) FROM public.databasechangelog
2023-05-22 09:12:14.822  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-22 09:12:14.822 UTC [59] ERROR:  relation &quot;public.databasechangeloglock&quot; does not exist at character 22
2023-05-22 09:12:14.822  INFO 2483 --- [eam--1876030990] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-22 09:12:14.822 UTC [59] STATEMENT:  SELECT COUNT(*) FROM public.databasechangeloglock
2023-05-22 09:12:14.837  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-22 09:12:14.840  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-22 09:12:14.845  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-22 09:12:14.849  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-22 09:12:14.853  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-22 09:12:14.854  INFO 2483 --- [  prefetching-1] liquibase.lockservice                    : Successfully acquired change log lock
2023-05-22 09:12:14.869  INFO 2483 --- [  prefetching-1] liquibase.changelog                      : Creating database history table with name: public.databasechangelog
2023-05-22 09:12:14.879  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-22 09:12:14.881  INFO 2483 --- [  prefetching-1] liquibase.changelog                      : Reading from public.databasechangelog
2023-05-22 09:12:14.887  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-22 09:12:14.889  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
Running Changeset: db/changelog/db.changelog-1-added-customer-table.yaml::1.1::vondacho
2023-05-22 09:12:14.932  INFO 2483 --- [  prefetching-1] liquibase.changelog                      : Table customer created
2023-05-22 09:12:14.933  INFO 2483 --- [  prefetching-1] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-1-added-customer-table.yaml::1.1::vondacho ran successfully in 12ms
2023-05-22 09:12:14.937  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-22 09:12:14.940  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
Running Changeset: db/changelog/db.changelog-1-added-customer-table.yaml::1.2::vondacho
2023-05-22 09:12:14.945  INFO 2483 --- [  prefetching-1] liquibase.changelog                      : Index idx_customer_id created
2023-05-22 09:12:14.946  INFO 2483 --- [  prefetching-1] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-1-added-customer-table.yaml::1.2::vondacho ran successfully in 4ms
2023-05-22 09:12:14.947  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-22 09:12:14.948  INFO 2483 --- [  prefetching-1] liquibase                                : Update command completed successfully.
2023-05-22 09:12:14.951  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-22 09:12:14.951  INFO 2483 --- [  prefetching-1] liquibase.lockservice                    : Successfully released change log lock
2023-05-22 09:12:15.266  INFO 2483 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-05-22 09:12:15.316  INFO 2483 --- [    Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-05-22 09:12:15.353  INFO 2483 --- [    Test worker] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-05-22 09:12:15.511  INFO 2483 --- [    Test worker] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-05-22 09:12:15.907  INFO 2483 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-05-22 09:12:15.917  INFO 2483 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-05-22 09:12:17.895  INFO 2483 --- [    Test worker] s.w.a.s.ProblemSecurityBeanPostProcessor : Register HttpSecurity's exceptionHandling
2023-05-22 09:12:18.403  INFO 2483 --- [    Test worker] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/admin'
2023-05-22 09:12:18.466  INFO 2483 --- [    Test worker] o.z.p.s.w.a.s.ProblemHttpConfigurer      : Register HttpSecurity's exceptionHandling
2023-05-22 09:12:18.535  INFO 2483 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6fab250b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a8dd899, org.springframework.security.web.context.SecurityContextPersistenceFilter@2d95c3ef, org.springframework.security.web.header.HeaderWriterFilter@4992e34f, org.springframework.web.filter.CorsFilter@3da068e8, org.springframework.security.web.authentication.logout.LogoutFilter@77cac3b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@60b90fd3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6eef7af3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6de6467a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@448861e5, org.springframework.security.web.session.SessionManagementFilter@6b36ab82, org.springframework.security.web.access.ExceptionTranslationFilter@6ddd71cc, org.springframework.security.web.access.intercept.AuthorizationFilter@385ff04e]
2023-05-22 09:12:19.090  INFO 2483 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-05-22 09:12:19.090  INFO 2483 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-05-22 09:12:19.091  INFO 2483 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-05-22 09:12:19.160  INFO 2483 --- [    Test worker] e.o.b.c.at.CustomerCucumberBootstrap     : Started CustomerCucumberBootstrap in 10.645 seconds (JVM running for 13.255)
2023-05-22 09:12:19.227  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user must be authenticated to read                        ?[90m# features/access-control.feature:11?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser is not authenticated?[0m                                     ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserIsNotAuthenticated()?[0m
  ?[32mWhen ?[0m?[32mgetting existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.gettingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mUNAUTHORIZED?[0m                            ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:12:19.580  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-22 09:12:19.580  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:12:19.584  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-22 09:12:19.585  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:12:19.586  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@15f6f64d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@f93030a, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@58914623, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6b4684b4, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4920430f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5e3c8272, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@cce77c8, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@537231c1, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1881289b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@221416eb, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5d1b4556, org.springframework.test.context.event.EventPublishingTestExecutionListener@1fa59b0d, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@e71bd92, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@cd041f9, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@be694c0, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@38280b42, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3bb6bcf8, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3567edfe, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@a983f06, io.zonky.test.db.event.EventPublishingTestExecutionListener@7292470c]
2023-05-22 09:12:19.589  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user with no permission cannot read                       ?[90m# features/access-control.feature:16?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser has no permission?[0m                                        ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasNoPermission()?[0m
2023-05-22 09:12:19.703  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Forbidden: Access Denied
  ?[32mWhen ?[0m?[32mgetting existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.gettingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:12:19.758  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-22 09:12:19.759  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:12:19.765  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-22 09:12:19.766  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:12:19.767  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@69f564ab, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@550afff7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@4805d11b, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3f6094da, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7d726fa1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7f05d2bf, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@196e494d, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@2213c8fe, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4cf2b47a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1db30771, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@76fc11ab, org.springframework.test.context.event.EventPublishingTestExecutionListener@4a9463b2, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@131c4ffe, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@16914a63, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@f67053, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@69160a0c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1884db6f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4da584e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@371dc46e, io.zonky.test.db.event.EventPublishingTestExecutionListener@6e82feeb]
2023-05-22 09:12:19.770  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user must be authenticated to create ?[90m# features/access-control.feature:23?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m    ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser is not authenticated?[0m                ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserIsNotAuthenticated()?[0m
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m              ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | bob        | dylan     |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mUNAUTHORIZED?[0m       ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:12:19.883  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-22 09:12:19.883  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:12:19.886  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-22 09:12:19.888  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:12:19.888  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@eefc1bf, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7546be68, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2992d955, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7cf311eb, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@ce1c5f3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4c949ff9, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@73f3bf4f, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@176b8493, org.springframework.test.context.transaction.TransactionalTestExecutionListener@152705d0, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7da43bda, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1343eae6, org.springframework.test.context.event.EventPublishingTestExecutionListener@58c7bb01, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@75e32c4c, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2945a3c1, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@255d68d5, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@40a7c0cc, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2cca15d8, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2895e02b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@66403e2c, io.zonky.test.db.event.EventPublishingTestExecutionListener@181f2388]
2023-05-22 09:12:19.891  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user with no permission cannot create ?[90m# features/access-control.feature:30?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m     ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser has no permission?[0m                    ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasNoPermission()?[0m
2023-05-22 09:12:19.986  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Forbidden: Access Denied
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | bob        | dylan     |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m           ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:12:19.999  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-22 09:12:20.000  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:12:20.003  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-22 09:12:20.004  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:12:20.004  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2c05303d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@32394a4b, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@21b33459, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@8499717, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@dc8cafb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@75dbb21b, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@4df25105, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@9478683, org.springframework.test.context.transaction.TransactionalTestExecutionListener@42930a42, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6a702361, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@35d53d53, org.springframework.test.context.event.EventPublishingTestExecutionListener@93d6f4, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5a880dbe, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@318856a5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2d2bda62, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@33918d45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@29ee8374, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5a20c592, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@29abec7e, io.zonky.test.db.event.EventPublishingTestExecutionListener@166fa7ab]
2023-05-22 09:12:20.007  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user must be authenticated to modify                        ?[90m# features/access-control.feature:37?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser is not authenticated?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserIsNotAuthenticated()?[0m
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | elvis      | presley   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mUNAUTHORIZED?[0m                              ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:12:20.114  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-22 09:12:20.114  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:12:20.117  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-22 09:12:20.118  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:12:20.119  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@23f31375, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@40b0c9be, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@5bae7a7b, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1448e2b6, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2f9b33f1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@69a0e285, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@41f53068, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@12fb37b2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@64898aa7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@a53f879, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@62cdff2b, org.springframework.test.context.event.EventPublishingTestExecutionListener@29400267, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1b4695a, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@14b1c925, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1908483f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@30722243, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@122e63ae, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@8cc682f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@53de80b9, io.zonky.test.db.event.EventPublishingTestExecutionListener@721fc0bb]
2023-05-22 09:12:20.121  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user with no permission cannot modify                       ?[90m# features/access-control.feature:44?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser has no permission?[0m                                          ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasNoPermission()?[0m
2023-05-22 09:12:20.218  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Forbidden: Access Denied
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | elvis      | presley   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m                                 ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:12:20.230  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-22 09:12:20.231  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:12:20.233  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-22 09:12:20.234  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:12:20.235  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@b54a7b9, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@47ce059f, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@17b4d5ab, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3531c23a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1bf6d24a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2ca3ce56, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@1d0b4fe4, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@26107e6d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@bd99c67, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@39ba2234, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@7e893e88, org.springframework.test.context.event.EventPublishingTestExecutionListener@5bcfc422, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1cb24198, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@74f17bb8, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@43bb76d0, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@66f04451, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@68406796, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1793ed9d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@f061449, io.zonky.test.db.event.EventPublishingTestExecutionListener@6bb01b34]
2023-05-22 09:12:20.238  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user must be authenticated to remove                       ?[90m# features/access-control.feature:51?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                          ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser is not authenticated?[0m                                      ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserIsNotAuthenticated()?[0m
  ?[32mWhen ?[0m?[32mremoving existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.removingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mUNAUTHORIZED?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:12:20.343  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-22 09:12:20.344  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:12:20.347  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-22 09:12:20.348  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:12:20.348  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@321c6e0c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1f953288, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@30ca1686, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1a77faae, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4bca8be2, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7dfdf161, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@1de3a67e, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@38648de6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@27ee8493, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@350a0ff6, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@35da9f7f, org.springframework.test.context.event.EventPublishingTestExecutionListener@29cd3f9f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7a54fc29, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1fc4292a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7e846cca, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3e759542, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@639d8311, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5d2e6b31, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@91ae62, io.zonky.test.db.event.EventPublishingTestExecutionListener@125ce4b7]
2023-05-22 09:12:20.351  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user with no permission cannot remove                      ?[90m# features/access-control.feature:56?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                          ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser has no permission?[0m                                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasNoPermission()?[0m
2023-05-22 09:12:20.445  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Forbidden: Access Denied
  ?[32mWhen ?[0m?[32mremoving existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.removingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m                                ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:12:20.457  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-22 09:12:20.458  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:12:20.460  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-22 09:12:20.462  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:12:20.462  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@32b64a6d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5ef98f3f, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@5f83a8dc, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2e4f903c, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2e2a42ba, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3cb8b037, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@7e3f3a34, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@2c238bbf, org.springframework.test.context.transaction.TransactionalTestExecutionListener@50603313, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@29a01820, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2ec969ba, org.springframework.test.context.event.EventPublishingTestExecutionListener@1e0771af, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4f2e21d7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6666410a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@30760c5, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@26a8e303, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18365e98, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4c8c3285, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@74b57299, io.zonky.test.db.event.EventPublishingTestExecutionListener@156437f7]
2023-05-22 09:12:20.465  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user with write permission cannot remove                   ?[90m# features/access-control.feature:61?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                          ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                      ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
2023-05-22 09:12:20.662  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Forbidden: Access is denied
  ?[32mWhen ?[0m?[32mremoving existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.removingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m                                ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:12:20.688  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-22 09:12:20.689  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:12:20.692  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-22 09:12:20.694  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:12:20.695  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4eab4474, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6c945ef9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7d4f7d5e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@30f51f8a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@24697504, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6a4484e6, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@6c67a17d, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@74f6fa34, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b5860fb, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5575b4c2, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4c89b58, org.springframework.test.context.event.EventPublishingTestExecutionListener@472cf6af, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1fab1909, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@67807d9a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@27523869, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7eb3ba2, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@404f1907, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2447d039, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@12e035a8, io.zonky.test.db.event.EventPublishingTestExecutionListener@4c082a7d]
2023-05-22 09:12:20.702  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: Add a new customer to the existing customers                 ?[90m# features/create-customer.feature:12?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                      ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                            ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m    ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.theNextIdentifierIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.firstname=? and jpacustome0_.lastname=?
Hibernate: select jpacustome0_.pk as pk1_0_0_, jpacustome0_.firstname as firstnam2_0_0_, jpacustome0_.lastname as lastname3_0_0_, jpacustome0_.id as id4_0_0_ from customer jpacustome0_ where jpacustome0_.pk=?
Hibernate: insert into customer (firstname, lastname, id, pk) values (?, ?, ?, ?)
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m                                    ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | bob        | dylan     |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mCREATED?[0m                                  ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe returned customer id is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theReturnedIdIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is the following?[0m                   ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIs(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
2023-05-22 09:12:21.124  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-22 09:12:21.125  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:12:21.129  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-22 09:12:21.130  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:12:21.131  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@c2e9e33, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5aae7f30, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@78995f04, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6bb7e609, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1310324a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3aee98e7, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@83d91c1, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@5c6eb961, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4e7e42c4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@99c24c, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@64cef807, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dc2e04e, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7116f350, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3fd3d49c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2cce1da1, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@76d448e6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@309ea91f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1148eca4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4d37c839, io.zonky.test.db.event.EventPublishingTestExecutionListener@19f03a01]
2023-05-22 09:12:21.136  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: Add a customer with some invalid attributes       ?[90m# features/create-customer.feature:35?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                   ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.theNextIdentifierIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
2023-05-22 09:12:21.251 ERROR 2483 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=POST#/customers levels=ERROR messages=Validation failed.
[ERROR][REQUEST][POST /customers @body] Object has missing required properties ([&quot;firstName&quot;,&quot;lastName&quot;])
2023-05-22 09:12:21.287  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;firstName\&quot;,\&quot;lastName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;POST&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m                                 ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | [empty]    | [empty]   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-22 09:12:21.315  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-22 09:12:21.316  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:12:21.319  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-22 09:12:21.322  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:12:21.323  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1653cc95, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@68212585, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1569e9d7, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6c53ce34, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@64ec804f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5008c5a, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@5ffdea7c, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@2dadadd9, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2d43bedb, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ca08575, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1cbe3497, org.springframework.test.context.event.EventPublishingTestExecutionListener@5c3d91bc, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@6cb84986, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@449be249, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@296c6cc1, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@196ca821, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@373636f3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2ca413f6, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@66e478c7, io.zonky.test.db.event.EventPublishingTestExecutionListener@1a35f99a]
2023-05-22 09:12:21.331  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: Add a customer with some invalid attributes       ?[90m# features/create-customer.feature:36?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                   ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.theNextIdentifierIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
2023-05-22 09:12:21.436 ERROR 2483 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=POST#/customers levels=ERROR messages=Validation failed.
[ERROR][REQUEST][POST /customers @body] Object has missing required properties ([&quot;lastName&quot;])
2023-05-22 09:12:21.438  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;lastName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;POST&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m                                 ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | test       | [empty]   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-22 09:12:21.469  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-22 09:12:21.470  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:12:21.474  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-22 09:12:21.476  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:12:21.477  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@22ecee76, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@905e189, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7b31281b, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5381acc6, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@16db679e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3074d565, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@42775280, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@1cce2194, org.springframework.test.context.transaction.TransactionalTestExecutionListener@51645204, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@472d7ab0, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3f36d387, org.springframework.test.context.event.EventPublishingTestExecutionListener@52999774, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@211e1b51, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@d4a1d38, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4694dfd, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1ad55833, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4bc01cab, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@16be6b36, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@58f6dab9, io.zonky.test.db.event.EventPublishingTestExecutionListener@68d21554]
2023-05-22 09:12:21.481  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: Add a customer with some invalid attributes       ?[90m# features/create-customer.feature:37?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                   ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.theNextIdentifierIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
2023-05-22 09:12:21.584 ERROR 2483 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=POST#/customers levels=ERROR messages=Validation failed.
[ERROR][REQUEST][POST /customers @body] Object has missing required properties ([&quot;firstName&quot;])
2023-05-22 09:12:21.585  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;firstName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;POST&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m                                 ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | [empty]    | test      |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-22 09:12:21.597  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-22 09:12:21.597  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:12:21.600  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-22 09:12:21.601  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:12:21.601  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7af65b49, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@32e14e55, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7b6419dd, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7acc95a2, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3228b5a1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@a83c657, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@51729c2b, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@4f8d7222, org.springframework.test.context.transaction.TransactionalTestExecutionListener@387f53cf, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2cda8be9, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@698cc99d, org.springframework.test.context.event.EventPublishingTestExecutionListener@4d34baec, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@f9769ae, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@776a3e76, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78a5c127, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@102ee705, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@24c036b7, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2ff35d7, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@54856056, io.zonky.test.db.event.EventPublishingTestExecutionListener@3374a30c]
2023-05-22 09:12:21.603  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: Add a customer with some invalid attributes       ?[90m# features/create-customer.feature:38?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                   ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.theNextIdentifierIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.firstname=? and jpacustome0_.lastname=?
2023-05-22 09:12:21.709  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: customer john doe already exists.
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m                                 ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | john       | doe       |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-22 09:12:21.724  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-22 09:12:21.724  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:12:21.727  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-22 09:12:21.728  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:12:21.728  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1d691240, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@69789fec, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@4fa0e166, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@22c5c530, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@77eb383a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5a414ed4, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@12223f2b, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@1e42841a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@30464500, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@60219a32, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@63792a7a, org.springframework.test.context.event.EventPublishingTestExecutionListener@6911005b, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@6b7d363c, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7e1d16b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2de11117, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4c93cf28, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4e5dcc50, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@47be3679, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6272fe30, io.zonky.test.db.event.EventPublishingTestExecutionListener@30ca87d9]
2023-05-22 09:12:21.731  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: List all customers                        ?[90m# features/list-customer.feature:11?[0m
  ?[32mGiven ?[0m?[32muser has read permission?[0m                    ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasReadPermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_
  ?[32mWhen ?[0m?[32mlisting all existing customers?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.listingAllExistingCustomers()?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mOK?[0m                    ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe response contains the following customers?[0m ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseContainsTheFollowingCustomers(java.util.List&lt;edu.obya.blueprint.customer.adapter.rest.CustomerSummary&gt;)?[0m
    | id                                   | first-name | last-name | full-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       | john doe  |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     | bob dylan |
2023-05-22 09:12:21.909  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-22 09:12:21.909  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:12:21.914  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-22 09:12:21.915  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:12:21.918  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6626204e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@645db77c, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@60514b5, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@41f79561, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1604e941, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1f6b4aaa, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@31e5554e, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@4c44928e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7dbb24a6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@38c00fa1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@239462d2, org.springframework.test.context.event.EventPublishingTestExecutionListener@4bac54cc, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@6f96c70b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5713705f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@57110a9d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7eb22e87, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@27c510c5, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6b981dea, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3482b7e6, io.zonky.test.db.event.EventPublishingTestExecutionListener@5bab61e7]
2023-05-22 09:12:21.921  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: Show one customer                                           ?[90m# features/list-customer.feature:19?[0m
  ?[32mGiven ?[0m?[32muser has read permission?[0m                                      ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasReadPermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.id=?
  ?[32mWhen ?[0m?[32mgetting existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.gettingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mOK?[0m                                      ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe response contains only the following customer?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseContainsOnlyTheFollowingCustomer(java.util.List&lt;edu.obya.blueprint.customer.adapter.rest.CustomerSummary&gt;)?[0m
    | id                                   | first-name | last-name | full-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       | john doe  |
2023-05-22 09:12:22.049  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-22 09:12:22.073  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:12:22.076  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-22 09:12:22.077  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:12:22.077  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2cf846b9, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6f45872b, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6c916b7e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4631ecf5, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2892b704, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6b2d01e2, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@c005d62, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@451f5e53, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7808fb63, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7b29d791, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@754c6edb, org.springframework.test.context.event.EventPublishingTestExecutionListener@4a9e4be7, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@75f27234, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@40d2a644, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@56fe2233, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6e879a78, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@882364e, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5db7419c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7aff1fa3, io.zonky.test.db.event.EventPublishingTestExecutionListener@28790ede]
2023-05-22 09:12:22.081  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: customer does exist                                          ?[90m# features/remove-customer.feature:11?[0m
  ?[32mGiven ?[0m?[32muser has remove permission?[0m                                     ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasRemovePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                            ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.id=?
Hibernate: delete from customer where pk=?
  ?[32mWhen ?[0m?[32mremoving existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.removingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mNO_CONTENT?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customer ids is the following?[0m                ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomerIdsIs(java.util.List&lt;edu.obya.blueprint.customer.domain.model.CustomerId&gt;)?[0m
    | id                                   |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc |
2023-05-22 09:12:22.196  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-22 09:12:22.197  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:12:22.199  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-22 09:12:22.200  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:12:22.201  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@602621bb, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@55940257, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6bd87866, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@307b954, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@52fd6b76, org.springframework.test.context.support.DirtiesContextTestExecutionListener@278e4dc4, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@fbd1a1b, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@314ecfa1, org.springframework.test.context.transaction.TransactionalTestExecutionListener@8d1b425, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5d643896, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3aee9ce3, org.springframework.test.context.event.EventPublishingTestExecutionListener@7d9a7fd8, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@786f8cd2, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4b3abc1, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4a742630, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@643ee419, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6033ed50, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7947bf34, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1269538a, io.zonky.test.db.event.EventPublishingTestExecutionListener@16463f2]
2023-05-22 09:12:22.203  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: customer does not exist                                      ?[90m# features/remove-customer.feature:18?[0m
  ?[32mGiven ?[0m?[32muser has remove permission?[0m                                     ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasRemovePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                            ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.id=?
2023-05-22 09:12:22.302  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Not Found: customer cef60f2c-f5eb-4e2e-8f4b-d1e5dd8e9243 does not exist.
  ?[32mWhen ?[0m?[32mremoving existing customer ?[0m?[32m?[1mcef60f2c-f5eb-4e2e-8f4b-d1e5dd8e9243?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.removingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mNOT_FOUND?[0m                                ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m                  ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-22 09:12:22.316  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-22 09:12:22.317  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:12:22.319  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-22 09:12:22.320  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:12:22.321  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5fbf6d4a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@39ce0aba, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@53e36530, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@309ae326, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@146b1d42, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5db94eaf, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@15bb7acd, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@725f288f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3e12aa8b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@29c947d0, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@676a2d36, org.springframework.test.context.event.EventPublishingTestExecutionListener@6cfa6a04, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4797c3e2, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2483eb07, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@12b6713c, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2d239324, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@54d2cdb1, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6f32cfff, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4eac6cb4, io.zonky.test.db.event.EventPublishingTestExecutionListener@7f277cf6]
2023-05-22 09:12:22.323  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: replace one customer                                          ?[90m# features/update-customer.feature:11?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.firstname=? and jpacustome0_.lastname=?
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.id=?
Hibernate: update customer set firstname=?, lastname=?, id=? where pk=?
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | elvis      | presley   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mNO_CONTENT?[0m                                ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is the following?[0m                    ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIs(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | elvis      | presley   |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
2023-05-22 09:12:22.440  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-22 09:12:22.441  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:12:22.443  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-22 09:12:22.444  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:12:22.445  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@10ea1754, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4c14b1bd, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@110ed523, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@573eb678, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17ae4b7c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ede896d, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@199efc58, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@3b310465, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5ea15dd4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@543e228c, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3aac686f, org.springframework.test.context.event.EventPublishingTestExecutionListener@90d4173, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5d16f27b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@78999117, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@21af717b, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@42caaae4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@28a50dec, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1c8020c6, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@46febe84, io.zonky.test.db.event.EventPublishingTestExecutionListener@5174b135]
2023-05-22 09:12:22.447  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: replace a customer with some invalid attributes       ?[90m# features/update-customer.feature:29?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
2023-05-22 09:12:22.543 ERROR 2483 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=PUT#/customers/ce751f30-217a-422c-b81b-8f75df4917b6 levels=ERROR messages=Validation failed.
[ERROR][REQUEST][PUT /customers/ce751f30-217a-422c-b81b-8f75df4917b6 @body] Object has missing required properties ([&quot;firstName&quot;,&quot;lastName&quot;])
2023-05-22 09:12:22.544  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;firstName\&quot;,\&quot;lastName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers/ce751f30-217a-422c-b81b-8f75df4917b6&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;PUT&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | [empty]    | [empty]   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m                   ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-22 09:12:22.558  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-22 09:12:22.558  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:12:22.561  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-22 09:12:22.562  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:12:22.562  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@605ba15f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3bd42eef, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@5fa842b5, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@184cd907, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@25a0c208, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3f993305, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@223973a9, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@5c430208, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7fd03b0a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@9a72eee, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@606ab048, org.springframework.test.context.event.EventPublishingTestExecutionListener@247dad0f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5a8bcae1, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6a6b5f00, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5fb65af5, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@166a81d9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@12329d37, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2211432e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4f1dd46b, io.zonky.test.db.event.EventPublishingTestExecutionListener@d3bf018]
2023-05-22 09:12:22.565  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: replace a customer with some invalid attributes       ?[90m# features/update-customer.feature:30?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
2023-05-22 09:12:22.660 ERROR 2483 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=PUT#/customers/ce751f30-217a-422c-b81b-8f75df4917b6 levels=ERROR messages=Validation failed.
[ERROR][REQUEST][PUT /customers/ce751f30-217a-422c-b81b-8f75df4917b6 @body] Object has missing required properties ([&quot;lastName&quot;])
2023-05-22 09:12:22.661  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;lastName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers/ce751f30-217a-422c-b81b-8f75df4917b6&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;PUT&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | test       | [empty]   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m                   ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-22 09:12:22.674  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-22 09:12:22.675  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:12:22.677  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-22 09:12:22.678  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:12:22.679  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@18cbd36b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5f851718, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2e51e263, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@36ebd261, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@70fd1f5c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7b7eb8c, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@26d443e3, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@4e44f582, org.springframework.test.context.transaction.TransactionalTestExecutionListener@565b04e9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6e886e25, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@6a47f34c, org.springframework.test.context.event.EventPublishingTestExecutionListener@3c6f363, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@d34c3be, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@20e06d7b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@756837b8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@41019f9d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6a039d30, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@492bbebe, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7d4a95d4, io.zonky.test.db.event.EventPublishingTestExecutionListener@307a0097]
2023-05-22 09:12:22.681  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: replace a customer with some invalid attributes       ?[90m# features/update-customer.feature:31?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
2023-05-22 09:12:22.777 ERROR 2483 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=PUT#/customers/ce751f30-217a-422c-b81b-8f75df4917b6 levels=ERROR messages=Validation failed.
[ERROR][REQUEST][PUT /customers/ce751f30-217a-422c-b81b-8f75df4917b6 @body] Object has missing required properties ([&quot;firstName&quot;])
2023-05-22 09:12:22.778  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;firstName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers/ce751f30-217a-422c-b81b-8f75df4917b6&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;PUT&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | [empty]    | test      |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m                   ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-22 09:12:22.792  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-22 09:12:22.793  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:12:22.795  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-22 09:12:22.796  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:12:22.797  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3a848bb1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@12ad2a0b, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1500c6e7, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@413d15d5, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5ffac740, org.springframework.test.context.support.DirtiesContextTestExecutionListener@247c43c6, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@37d88e50, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@1ee2b6c3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@17abb298, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@510fb1d8, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@22d61fa7, org.springframework.test.context.event.EventPublishingTestExecutionListener@2989e190, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@637ca94b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4fd1458d, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5d6850f7, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3b8bbfab, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3dbb7f60, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7803a877, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@67f3a068, io.zonky.test.db.event.EventPublishingTestExecutionListener@1e33dda]
2023-05-22 09:12:22.799  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/cxkshmspqtrc?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: replace a customer with some invalid attributes       ?[90m# features/update-customer.feature:32?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.firstname=? and jpacustome0_.lastname=?
2023-05-22 09:12:22.906  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: customer bob dylan already exists.
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | bob        | dylan     |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m                   ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 8.0.2</a> at May 22, 2023, 9:12:23 AM</p>
</div>
</div>
</body>
</html>
