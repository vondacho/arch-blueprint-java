<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - CustomerAT</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>CustomerAT</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/edu.obya.blueprint.customer.at.html">edu.obya.blueprint.customer.at</a> &gt; CustomerAT</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">23</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">14.708s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">A user must be authenticated to create</td>
<td class="success">0.166s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user must be authenticated to modify</td>
<td class="success">0.135s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user must be authenticated to read</td>
<td class="success">10.935s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user must be authenticated to remove</td>
<td class="success">0.136s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with no permission cannot create</td>
<td class="success">0.151s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with no permission cannot modify</td>
<td class="success">0.143s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with no permission cannot read</td>
<td class="success">0.227s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with no permission cannot remove</td>
<td class="success">0.139s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with write permission cannot remove</td>
<td class="success">0.228s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Add a new customer to the existing customers</td>
<td class="success">0.408s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.1</td>
<td class="success">0.192s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.1</td>
<td class="success">0.128s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.2</td>
<td class="success">0.159s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.2</td>
<td class="success">0.129s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.3</td>
<td class="success">0.129s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.3</td>
<td class="success">0.151s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.4</td>
<td class="success">0.192s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.4</td>
<td class="success">0.171s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">List all customers</td>
<td class="success">0.183s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Show one customer</td>
<td class="success">0.169s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">customer does exist</td>
<td class="success">0.146s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">customer does not exist</td>
<td class="success">0.146s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">replace one customer</td>
<td class="success">0.145s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>18:09:55.640 [Test worker] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
18:09:55.651 [Test worker] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
18:09:55.669 [Test worker] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
18:09:55.677 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
18:09:55.681 [Test worker] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: class path resource [edu/obya/blueprint/customer/at/CustomerCucumberBootstrap-context.xml] does not exist
18:09:55.681 [Test worker] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: class path resource [edu/obya/blueprint/customer/at/CustomerCucumberBootstrapContext.groovy] does not exist
18:09:55.682 [Test worker] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
18:09:55.772 [Test worker] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/runner/work/arch-blueprint-java/arch-blueprint-java/build/classes/java/main/edu/obya/blueprint/Application.class]
18:09:55.773 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
18:09:55.877 [Test worker] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: using defaults.
18:09:55.878 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
18:09:55.897 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@672a1c62, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@459b6c53, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@39e69ea7, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@490c7a83, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7e72a6cc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6015a4a5, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@6d0b0da6, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@4779aae6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2cd62003, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@61ab89b0, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5478ce1e, org.springframework.test.context.event.EventPublishingTestExecutionListener@5edc70ed, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4317850d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7e4c72d6, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6cd64b3f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@51b01550, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2ef0dd86, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3337d04c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6de6faa6, io.zonky.test.db.event.EventPublishingTestExecutionListener@3cad68df]
 ██████╗██╗   ██╗███████╗████████╗ ██████╗ ███╗   ███╗███████╗██████╗ 
██╔════╝██║   ██║██╔════╝╚══██╔══╝██╔═══██╗████╗ ████║██╔════╝██╔══██╗
██║     ██║   ██║███████╗   ██║   ██║   ██║██╔████╔██║█████╗  ██████╔╝
██║     ██║   ██║╚════██║   ██║   ██║   ██║██║╚██╔╝██║██╔══╝  ██╔══██╗
╚██████╗╚██████╔╝███████║   ██║   ╚██████╔╝██║ ╚═╝ ██║███████╗██║  ██║
 ╚═════╝ ╚═════╝ ╚══════╝   ╚═╝    ╚═════╝ ╚═╝     ╚═╝╚══════╝╚═╝  ╚═╝
2023-05-12 18:09:56.308  WARN 2533 --- [    Test worker] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/home/runner/.gradle/caches/modules-2/files-2.1/org.json/json/20220924/5aa95e7688f76c664af205c5937620f02688dfbc/json-20220924.jar!/org/json/JSONObject.class
	jar:file:/home/runner/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-05-12 18:09:56.328  INFO 2533 --- [    Test worker] e.o.b.c.at.CustomerCucumberBootstrap     : Starting CustomerCucumberBootstrap using Java 17.0.7 on fv-az370-986 with PID 2533 (started by runner in /home/runner/work/arch-blueprint-java/arch-blueprint-java)
2023-05-12 18:09:56.329  INFO 2533 --- [    Test worker] e.o.b.c.at.CustomerCucumberBootstrap     : The following 2 profiles are active: &quot;test&quot;, &quot;jpa&quot;
2023-05-12 18:09:57.398  INFO 2533 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-12 18:09:57.514  INFO 2533 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 109 ms. Found 1 JPA repository interfaces.
2023-05-12 18:09:57.934  INFO 2533 --- [    Test worker] EmbeddedDatabaseContextCustomizerFactory : Replacing 'dataSource' DataSource bean with embedded version
2023-05-12 18:09:58.762  INFO 2533 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.zalando.problem.spring.web.autoconfigure.security.ProblemSecurityAutoConfiguration' of type [org.zalando.problem.spring.web.autoconfigure.security.ProblemSecurityAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 18:09:58.795  INFO 2533 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'io.zonky.test.db.config.EmbeddedDatabaseAutoConfiguration' of type [io.zonky.test.db.config.EmbeddedDatabaseAutoConfiguration$$EnhancerBySpringCGLIB$$d0f75501] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 18:09:59.134  INFO 2533 --- [  prefetching-1] o.t.utility.ImageNameSubstitutor         : Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-05-12 18:09:59.161  INFO 2533 --- [  prefetching-1] o.t.d.DockerClientProviderStrategy       : Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-05-12 18:09:59.486  INFO 2533 --- [  prefetching-1] o.t.d.DockerClientProviderStrategy       : Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-05-12 18:09:59.488  INFO 2533 --- [  prefetching-1] org.testcontainers.DockerClientFactory   : Docker host IP address is localhost
2023-05-12 18:09:59.502  INFO 2533 --- [  prefetching-1] org.testcontainers.DockerClientFactory   : Connected to docker: 
  Server Version: 20.10.24+azure-1
  API Version: 1.41
  Operating System: Ubuntu 22.04.2 LTS
  Total Memory: 6943 MB
2023-05-12 18:09:59.536  INFO 2533 --- [  prefetching-1] &#x1f433; [testcontainers/ryuk:0.3.4]           : Creating container for image: testcontainers/ryuk:0.3.4
2023-05-12 18:09:59.629  INFO 2533 --- [  prefetching-1] &#x1f433; [testcontainers/ryuk:0.3.4]           : Container testcontainers/ryuk:0.3.4 is starting: d60e5e4dfdad2b4b19114bcbb98c69138cce272d263953e93951b56c6da6bc8e
2023-05-12 18:10:00.036  INFO 2533 --- [  prefetching-1] &#x1f433; [testcontainers/ryuk:0.3.4]           : Container testcontainers/ryuk:0.3.4 started in PT0.51903981S
2023-05-12 18:10:00.041  INFO 2533 --- [  prefetching-1] o.t.utility.RyukResourceReaper           : Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-05-12 18:10:00.041  INFO 2533 --- [  prefetching-1] org.testcontainers.DockerClientFactory   : Checking the system...
2023-05-12 18:10:00.042  INFO 2533 --- [  prefetching-1] org.testcontainers.DockerClientFactory   : ✔︎ Docker server version should be at least 1.6.0
2023-05-12 18:10:00.042  INFO 2533 --- [  prefetching-1] &#x1f433; [postgres:11-alpine]                  : Creating container for image: postgres:11-alpine
2023-05-12 18:10:00.058  INFO 2533 --- [  prefetching-1] &#x1f433; [postgres:11-alpine]                  : Container postgres:11-alpine is starting: 2e1d0e1d3d5bcad7f0b8e2dbb49dd0a1d73096d1d7b46e0ded101764dbe5741f
2023-05-12 18:10:01.560  INFO 2533 --- [  prefetching-1] &#x1f433; [postgres:11-alpine]                  : Container postgres:11-alpine started in PT1.517648884S
2023-05-12 18:10:01.568  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The files belonging to this database system will be owned by user &quot;postgres&quot;.
2023-05-12 18:10:01.569  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: This user must also own the server process.
2023-05-12 18:10:01.569  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-12 18:10:01.569  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The database cluster will be initialized with locale &quot;en_US.utf8&quot;.
2023-05-12 18:10:01.569  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The default database encoding has accordingly been set to &quot;UTF8&quot;.
2023-05-12 18:10:01.569  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The default text search configuration will be set to &quot;english&quot;.
2023-05-12 18:10:01.569  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-12 18:10:01.570  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: Data page checksums are disabled.
2023-05-12 18:10:01.570  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-12 18:10:01.570  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: fixing permissions on existing directory /var/lib/postgresql/data ... ok
2023-05-12 18:10:01.570  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: creating subdirectories ... ok
2023-05-12 18:10:01.570  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: selecting default max_connections ... 100
2023-05-12 18:10:01.570  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: selecting default shared_buffers ... 128MB
2023-05-12 18:10:01.570  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: selecting default timezone ... UTC
2023-05-12 18:10:01.572  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: selecting dynamic shared memory implementation ... posix
2023-05-12 18:10:01.573  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: creating configuration files ... ok
2023-05-12 18:10:01.573  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: running bootstrap script ... ok
2023-05-12 18:10:01.573  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: sh: locale: not found
2023-05-12 18:10:01.573  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-12 18:10:00.708 UTC [29] WARNING:  no usable system locales were found
2023-05-12 18:10:01.573  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 
2023-05-12 18:10:01.573  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: WARNING: enabling &quot;trust&quot; authentication for local connections
2023-05-12 18:10:01.573  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: You can change this by editing pg_hba.conf or using the option -A, or
2023-05-12 18:10:01.574  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: --auth-local and --auth-host, the next time you run initdb.
2023-05-12 18:10:01.574  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: performing post-bootstrap initialization ... ok
2023-05-12 18:10:01.575  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-12 18:10:01.578  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: Sync to disk skipped.
2023-05-12 18:10:01.578  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The data directory might become corrupt if the operating system crashes.
2023-05-12 18:10:01.578  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-12 18:10:01.578  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: Success. You can now start the database server using:
2023-05-12 18:10:01.579  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-12 18:10:01.580  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT:     pg_ctl -D /var/lib/postgresql/data -l logfile start
2023-05-12 18:10:01.580  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-12 18:10:01.580  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: waiting for server to start....2023-05-12 18:10:01.093 UTC [35] LOG:  listening on Unix socket &quot;/var/run/postgresql/.s.PGSQL.5432&quot;
2023-05-12 18:10:01.580  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-12 18:10:01.106 UTC [36] LOG:  database system was shut down at 2023-05-12 18:10:01 UTC
2023-05-12 18:10:01.580  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-12 18:10:01.111 UTC [35] LOG:  database system is ready to accept connections
2023-05-12 18:10:01.580  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT:  done
2023-05-12 18:10:01.581  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: server started
2023-05-12 18:10:01.581  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: CREATE DATABASE
2023-05-12 18:10:01.581  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-12 18:10:01.581  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-12 18:10:01.581  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*
2023-05-12 18:10:01.581  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-12 18:10:01.581  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: waiting for server to shut down...2023-05-12 18:10:01.424 UTC [35] LOG:  received fast shutdown request
2023-05-12 18:10:01.581  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: .2023-05-12 18:10:01.424 UTC [35] LOG:  aborting any active transactions
2023-05-12 18:10:01.582  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-12 18:10:01.427 UTC [35] LOG:  background worker &quot;logical replication launcher&quot; (PID 42) exited with exit code 1
2023-05-12 18:10:01.582  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-12 18:10:01.427 UTC [37] LOG:  shutting down
2023-05-12 18:10:01.582  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-12 18:10:01.431 UTC [35] LOG:  database system is shut down
2023-05-12 18:10:01.582  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT:  done
2023-05-12 18:10:01.582  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: server stopped
2023-05-12 18:10:01.582  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-12 18:10:01.582  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: PostgreSQL init process complete; ready for start up.
2023-05-12 18:10:01.582  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-12 18:10:01.583  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-12 18:10:01.533 UTC [1] LOG:  listening on IPv4 address &quot;0.0.0.0&quot;, port 5432
2023-05-12 18:10:01.583  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-12 18:10:01.533 UTC [1] LOG:  listening on IPv6 address &quot;::&quot;, port 5432
2023-05-12 18:10:01.583  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-12 18:10:01.533 UTC [1] LOG:  listening on Unix socket &quot;/var/run/postgresql/.s.PGSQL.5432&quot;
2023-05-12 18:10:01.583  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-12 18:10:01.548 UTC [50] LOG:  database system was shut down at 2023-05-12 18:10:01 UTC
2023-05-12 18:10:01.583  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-12 18:10:01.553 UTC [1] LOG:  database system is ready to accept connections
2023-05-12 18:10:01.914  INFO 2533 --- [  prefetching-1] liquibase.database                       : Set default schema name to public
2023-05-12 18:10:01.958  WARN 2533 --- [  prefetching-1] liquibase.util                           : Failed to perform a method call for SnakeYaml because the version of SnakeYaml being used is too old. Consider upgrading to a SnakeYaml version equal to or newer than 1.32, by downloading and installing a newer version of Liquibase (which includes a newer version of SnakeYaml). Loading particularly large JSON and YAML documents (like snapshots) in Liquibase may fail if SnakeYaml is not upgraded.

java.lang.NoSuchMethodError: 'void org.yaml.snakeyaml.LoaderOptions.setCodePointLimit(int)'
	at liquibase.util.SnakeYamlUtil.lambda$setCodePointLimitSafely$0(SnakeYamlUtil.java:23) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.util.SnakeYamlUtil.safelyCallNewSnakeYamlMethod(SnakeYamlUtil.java:39) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.util.SnakeYamlUtil.setCodePointLimitSafely(SnakeYamlUtil.java:23) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.parser.core.yaml.YamlParser.createLoaderOptions(YamlParser.java:16) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:26) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:607) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:591) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase$16.run(Liquibase.java:2290) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:2639) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.listUnrunChangeSets(Liquibase.java:2286) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.isUpToDateFastCheck(Liquibase.java:506) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:237) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:2639) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:236) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:221) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284) ~[liquibase-core-4.20.0.jar:na]
	at io.zonky.test.db.liquibase.LiquibaseDatabasePreparer.prepare(LiquibaseDatabasePreparer.java:70) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.preparer.CompositeDatabasePreparer.prepare(CompositeDatabasePreparer.java:49) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.postgres.DockerPostgresDatabaseProvider$DatabaseInstance.createDatabase(DockerPostgresDatabaseProvider.java:214) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.postgres.DockerPostgresDatabaseProvider.createDatabase(DockerPostgresDatabaseProvider.java:114) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.postgres.DockerPostgresDatabaseProvider.createTemplate(DockerPostgresDatabaseProvider.java:102) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider.createTemplate(TemplatingDatabaseProvider.java:129) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider.lambda$createTemplateIfPossible$1(TemplatingDatabaseProvider.java:171) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider$TemplateWrapper.loadTemplate(TemplatingDatabaseProvider.java:294) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider$TemplateWrapper.access$200(TemplatingDatabaseProvider.java:224) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider.createTemplateIfPossible(TemplatingDatabaseProvider.java:171) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider.createDatabase(TemplatingDatabaseProvider.java:112) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider.createDatabase(TemplatingDatabaseProvider.java:104) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.PrefetchingDatabaseProvider$PrefetchingTask.lambda$forPreparer$0(PrefetchingDatabaseProvider.java:391) ~[embedded-database-spring-test-2.2.0.jar:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at io.zonky.test.db.provider.common.PrefetchingDatabaseProvider$PrefetchingTask.run(PrefetchingDatabaseProvider.java:420) ~[embedded-database-spring-test-2.2.0.jar:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-05-12 18:10:02.157  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-12 18:10:02.157 UTC [58] ERROR:  relation &quot;public.databasechangelog&quot; does not exist at character 22
2023-05-12 18:10:02.157  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-12 18:10:02.157 UTC [58] STATEMENT:  SELECT COUNT(*) FROM public.databasechangelog
2023-05-12 18:10:02.216  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-12 18:10:02.216 UTC [58] ERROR:  relation &quot;public.databasechangeloglock&quot; does not exist at character 22
2023-05-12 18:10:02.217  INFO 2533 --- [eam--1168141438] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-12 18:10:02.216 UTC [58] STATEMENT:  SELECT COUNT(*) FROM public.databasechangeloglock
2023-05-12 18:10:02.231  INFO 2533 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-12 18:10:02.236  INFO 2533 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-12 18:10:02.241  INFO 2533 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-12 18:10:02.244  INFO 2533 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-12 18:10:02.248  INFO 2533 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-12 18:10:02.249  INFO 2533 --- [  prefetching-1] liquibase.lockservice                    : Successfully acquired change log lock
2023-05-12 18:10:02.264  INFO 2533 --- [  prefetching-1] liquibase.changelog                      : Creating database history table with name: public.databasechangelog
2023-05-12 18:10:02.275  INFO 2533 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-12 18:10:02.276  INFO 2533 --- [  prefetching-1] liquibase.changelog                      : Reading from public.databasechangelog
2023-05-12 18:10:02.278  INFO 2533 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-12 18:10:02.280  INFO 2533 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
Running Changeset: db/changelog/db.changelog-1-added-customer-table.yaml::1.1::vondacho
2023-05-12 18:10:02.308  INFO 2533 --- [  prefetching-1] liquibase.changelog                      : Table customer created
2023-05-12 18:10:02.309  INFO 2533 --- [  prefetching-1] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-1-added-customer-table.yaml::1.1::vondacho ran successfully in 5ms
2023-05-12 18:10:02.313  INFO 2533 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-12 18:10:02.315  INFO 2533 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
Running Changeset: db/changelog/db.changelog-1-added-customer-table.yaml::1.2::vondacho
2023-05-12 18:10:02.318  INFO 2533 --- [  prefetching-1] liquibase.changelog                      : Index idx_customer_id created
2023-05-12 18:10:02.319  INFO 2533 --- [  prefetching-1] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-1-added-customer-table.yaml::1.2::vondacho ran successfully in 2ms
2023-05-12 18:10:02.320  INFO 2533 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-12 18:10:02.321  INFO 2533 --- [  prefetching-1] liquibase                                : Update command completed successfully.
2023-05-12 18:10:02.323  INFO 2533 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-12 18:10:02.324  INFO 2533 --- [  prefetching-1] liquibase.lockservice                    : Successfully released change log lock
2023-05-12 18:10:02.422  INFO 2533 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-05-12 18:10:02.460  INFO 2533 --- [    Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-05-12 18:10:02.504  INFO 2533 --- [    Test worker] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-05-12 18:10:02.637  INFO 2533 --- [    Test worker] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-05-12 18:10:02.964  INFO 2533 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-05-12 18:10:02.973  INFO 2533 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-05-12 18:10:04.871  INFO 2533 --- [    Test worker] s.w.a.s.ProblemSecurityBeanPostProcessor : Register HttpSecurity's exceptionHandling
2023-05-12 18:10:05.322  INFO 2533 --- [    Test worker] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/admin'
2023-05-12 18:10:05.390  INFO 2533 --- [    Test worker] o.z.p.s.w.a.s.ProblemHttpConfigurer      : Register HttpSecurity's exceptionHandling
2023-05-12 18:10:05.464  INFO 2533 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@504ed038, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10fef3d1, org.springframework.security.web.context.SecurityContextPersistenceFilter@519f6adb, org.springframework.security.web.header.HeaderWriterFilter@4a81582c, org.springframework.web.filter.CorsFilter@3fb8e614, org.springframework.security.web.authentication.logout.LogoutFilter@329cdafa, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@74f23ecc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72bb3f3e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58d85a00, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35007b7a, org.springframework.security.web.session.SessionManagementFilter@3f2731e5, org.springframework.security.web.access.ExceptionTranslationFilter@5168f69d, org.springframework.security.web.access.intercept.AuthorizationFilter@71390c8]
2023-05-12 18:10:05.959  INFO 2533 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-05-12 18:10:05.960  INFO 2533 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-05-12 18:10:05.962  INFO 2533 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-05-12 18:10:06.039  INFO 2533 --- [    Test worker] e.o.b.c.at.CustomerCucumberBootstrap     : Started CustomerCucumberBootstrap in 10.107 seconds (JVM running for 12.134)
2023-05-12 18:10:06.133  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user must be authenticated to read                        ?[90m# features/access-control.feature:11?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser is not authenticated?[0m                                     ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserIsNotAuthenticated()?[0m
  ?[32mWhen ?[0m?[32mgetting existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.gettingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mUNAUTHORIZED?[0m                            ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-12 18:10:06.542  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-12 18:10:06.542  INFO 2533 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-12 18:10:06.546  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-12 18:10:06.547  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-12 18:10:06.548  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@73b68d98, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@69af6978, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1d18e5ad, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@11def039, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@564375d7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@44b522ce, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@1e5a8278, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@7863e6b2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3543c9a4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@588d2e90, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@120e3ebb, org.springframework.test.context.event.EventPublishingTestExecutionListener@753f1c3e, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5e9af5d4, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6fd2b939, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@c4aa99e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1199ac5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@824eb67, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@72c5902b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2b9ac1b4, io.zonky.test.db.event.EventPublishingTestExecutionListener@6618b9b0]
2023-05-12 18:10:06.552  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user with no permission cannot read                       ?[90m# features/access-control.feature:16?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser has no permission?[0m                                        ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasNoPermission()?[0m
2023-05-12 18:10:06.696  WARN 2533 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Forbidden: Access Denied
  ?[32mWhen ?[0m?[32mgetting existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.gettingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-12 18:10:06.772  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-12 18:10:06.773  INFO 2533 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-12 18:10:06.777  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-12 18:10:06.779  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-12 18:10:06.780  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@9a168bc, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@69628b3f, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7a065f73, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3f2b55f8, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3d4d2e29, org.springframework.test.context.support.DirtiesContextTestExecutionListener@400b61cc, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@8be5379, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@6ddf4303, org.springframework.test.context.transaction.TransactionalTestExecutionListener@39b704f7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@22a9170c, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5876bdbb, org.springframework.test.context.event.EventPublishingTestExecutionListener@4fa62aed, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4e370f52, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@24cc60ef, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@49ba8aa8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@37353030, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@418ee41b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6822fdd, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1bf00a6f, io.zonky.test.db.event.EventPublishingTestExecutionListener@5da1d91]
2023-05-12 18:10:06.785  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user must be authenticated to create ?[90m# features/access-control.feature:23?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m    ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser is not authenticated?[0m                ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserIsNotAuthenticated()?[0m
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m              ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | bob        | dylan     |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mUNAUTHORIZED?[0m       ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-12 18:10:06.939  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-12 18:10:06.940  INFO 2533 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-12 18:10:06.943  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-12 18:10:06.944  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-12 18:10:06.945  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6685d5e4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@35595f1, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@81ba0c5, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4733c7f0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@fd10007, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2004e611, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@75cc775c, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@2c992252, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2bcfdefe, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2cfc81f8, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3a1c65ac, org.springframework.test.context.event.EventPublishingTestExecutionListener@5ff24b0f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@a9f4621, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@42a4e5cb, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1bccd936, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@562b4373, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@26f5a9d9, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@431a9a71, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3e62fe4d, io.zonky.test.db.event.EventPublishingTestExecutionListener@325e1229]
2023-05-12 18:10:06.947  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user with no permission cannot create ?[90m# features/access-control.feature:30?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m     ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser has no permission?[0m                    ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasNoPermission()?[0m
2023-05-12 18:10:07.080  WARN 2533 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Forbidden: Access Denied
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | bob        | dylan     |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m           ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-12 18:10:07.093  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-12 18:10:07.094  INFO 2533 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-12 18:10:07.096  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-12 18:10:07.098  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-12 18:10:07.098  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@30369973, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5416bc77, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@303ea430, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@54d66499, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@502f9271, org.springframework.test.context.support.DirtiesContextTestExecutionListener@313b6907, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@74e14434, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@13f4149d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3f64a088, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@557d9532, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2bc3ab4d, org.springframework.test.context.event.EventPublishingTestExecutionListener@18a01254, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@25a8128, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3bb75054, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@d980dac, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@15329cf9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@43b70cb6, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4203d164, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@fbb41e5, io.zonky.test.db.event.EventPublishingTestExecutionListener@eefc1bf]
2023-05-12 18:10:07.101  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user must be authenticated to modify                        ?[90m# features/access-control.feature:37?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser is not authenticated?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserIsNotAuthenticated()?[0m
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | elvis      | presley   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mUNAUTHORIZED?[0m                              ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-12 18:10:07.233  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-12 18:10:07.234  INFO 2533 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-12 18:10:07.238  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-12 18:10:07.240  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-12 18:10:07.240  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2945a3c1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@255d68d5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@40a7c0cc, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2cca15d8, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2895e02b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@66403e2c, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@181f2388, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@64079186, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6314b195, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4424285, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@65a022e6, org.springframework.test.context.event.EventPublishingTestExecutionListener@3d731475, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7bad8257, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6deda1cd, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@9be1984, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2c4b747a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3b63f49e, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3b00c9f6, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@428b852b, io.zonky.test.db.event.EventPublishingTestExecutionListener@3514d1a4]
2023-05-12 18:10:07.243  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user with no permission cannot modify                       ?[90m# features/access-control.feature:44?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser has no permission?[0m                                          ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasNoPermission()?[0m
2023-05-12 18:10:07.362  WARN 2533 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Forbidden: Access Denied
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | elvis      | presley   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m                                 ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-12 18:10:07.376  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-12 18:10:07.377  INFO 2533 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-12 18:10:07.380  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-12 18:10:07.381  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-12 18:10:07.382  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@93d6f4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5a880dbe, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@318856a5, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2d2bda62, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@33918d45, org.springframework.test.context.support.DirtiesContextTestExecutionListener@29ee8374, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@5a20c592, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@29abec7e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@166fa7ab, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4bc76331, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1717238e, org.springframework.test.context.event.EventPublishingTestExecutionListener@6129f50e, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@a90447f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7abe70f7, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@541b377d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7a343975, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@720f29f0, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7b3fd68e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7612a64b, io.zonky.test.db.event.EventPublishingTestExecutionListener@2db6d66d]
2023-05-12 18:10:07.384  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user must be authenticated to remove                       ?[90m# features/access-control.feature:51?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                          ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser is not authenticated?[0m                                      ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserIsNotAuthenticated()?[0m
  ?[32mWhen ?[0m?[32mremoving existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.removingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mUNAUTHORIZED?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-12 18:10:07.514  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-12 18:10:07.515  INFO 2533 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-12 18:10:07.517  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-12 18:10:07.519  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-12 18:10:07.519  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@78ab6103, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5f57fde7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@53c1f4ae, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2f829755, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@c0248df, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6c5a347d, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@30e2c9dc, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@be1c8aa, org.springframework.test.context.transaction.TransactionalTestExecutionListener@15bb3db9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@287f1aaf, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@ef59a55, org.springframework.test.context.event.EventPublishingTestExecutionListener@b54a7b9, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@47ce059f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@17b4d5ab, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3531c23a, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1bf6d24a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2ca3ce56, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1d0b4fe4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@26107e6d, io.zonky.test.db.event.EventPublishingTestExecutionListener@bd99c67]
2023-05-12 18:10:07.522  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user with no permission cannot remove                      ?[90m# features/access-control.feature:56?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                          ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser has no permission?[0m                                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasNoPermission()?[0m
2023-05-12 18:10:07.641  WARN 2533 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Forbidden: Access Denied
  ?[32mWhen ?[0m?[32mremoving existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.removingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m                                ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-12 18:10:07.655  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-12 18:10:07.656  INFO 2533 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-12 18:10:07.658  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-12 18:10:07.659  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-12 18:10:07.659  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@16019c16, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2b59285c, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2ea7e25d, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@692cab82, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@73d76b9d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@11aeb673, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@a0b11, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@c76c029, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4435c9b9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@204ce262, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@704e27f9, org.springframework.test.context.event.EventPublishingTestExecutionListener@4a83c651, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2091b6b9, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@67091f3b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@66f99dcc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@321c6e0c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1f953288, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@30ca1686, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1a77faae, io.zonky.test.db.event.EventPublishingTestExecutionListener@4bca8be2]
2023-05-12 18:10:07.661  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user with write permission cannot remove                   ?[90m# features/access-control.feature:61?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                          ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                      ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
2023-05-12 18:10:07.867  WARN 2533 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Forbidden: Access is denied
  ?[32mWhen ?[0m?[32mremoving existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.removingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m                                ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-12 18:10:07.903  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-12 18:10:07.904  INFO 2533 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-12 18:10:07.907  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-12 18:10:07.909  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-12 18:10:07.909  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@70b9cdcc, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5b4e1899, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@745690d7, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2603ff76, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@18ea91d7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@33cbd883, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@735b2605, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@4a1a9f57, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6b2cbea, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6bd0047f, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41116c0e, org.springframework.test.context.event.EventPublishingTestExecutionListener@5fefb35c, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4f92ded0, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@248ad8a1, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6eb1a122, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4c669afb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@15dba9f9, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@67662433, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4bd214c, io.zonky.test.db.event.EventPublishingTestExecutionListener@7c74d262]
2023-05-12 18:10:07.914  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: Add a new customer to the existing customers                 ?[90m# features/create-customer.feature:12?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                      ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                            ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m    ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.theNextIdentifierIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.firstname=? and jpacustome0_.lastname=?
Hibernate: select jpacustome0_.pk as pk1_0_0_, jpacustome0_.firstname as firstnam2_0_0_, jpacustome0_.lastname as lastname3_0_0_, jpacustome0_.id as id4_0_0_ from customer jpacustome0_ where jpacustome0_.pk=?
Hibernate: insert into customer (firstname, lastname, id, pk) values (?, ?, ?, ?)
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m                                    ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | bob        | dylan     |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mCREATED?[0m                                  ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe returned customer id is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theReturnedIdIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is the following?[0m                   ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIs(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
2023-05-12 18:10:08.316  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-12 18:10:08.317  INFO 2533 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-12 18:10:08.320  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-12 18:10:08.322  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-12 18:10:08.322  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@68b70470, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@787031a, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1f0bf0d0, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1c0d92e5, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4c499190, org.springframework.test.context.support.DirtiesContextTestExecutionListener@73e9d4d0, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@3324270d, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@434e0136, org.springframework.test.context.transaction.TransactionalTestExecutionListener@438bcdde, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7ef9ce2b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@6cf782b6, org.springframework.test.context.event.EventPublishingTestExecutionListener@5f0369af, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@427bbaac, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@72c3bc5e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@22717282, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@667b3972, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@79ca51cb, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@160423e0, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3fc8a6c0, io.zonky.test.db.event.EventPublishingTestExecutionListener@47b8e2]
2023-05-12 18:10:08.327  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: Add a customer with some invalid attributes       ?[90m# features/create-customer.feature:36?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                   ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.theNextIdentifierIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
2023-05-12 18:10:08.455 ERROR 2533 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=POST#/customers levels=ERROR messages=Validation failed.
[ERROR][REQUEST][POST /customers @body] Object has missing required properties ([&quot;firstName&quot;,&quot;lastName&quot;])
2023-05-12 18:10:08.486  WARN 2533 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;firstName\&quot;,\&quot;lastName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;POST&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m                                 ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | [empty]    | [empty]   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-12 18:10:08.514  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-12 18:10:08.516  INFO 2533 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-12 18:10:08.519  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-12 18:10:08.521  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-12 18:10:08.522  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@39d06cd9, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6c82ecbe, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@acc6a69, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2202eee0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@180ee8dd, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6392107e, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@a64a147, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@3fa43b05, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5083642c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@23618fa2, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@c207c10, org.springframework.test.context.event.EventPublishingTestExecutionListener@12c21282, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@59aba6f2, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76982efa, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@79571cc5, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7b83476f, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7f1bf2db, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4843fc3c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@93370c5, io.zonky.test.db.event.EventPublishingTestExecutionListener@686ae6b3]
2023-05-12 18:10:08.526  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: Add a customer with some invalid attributes       ?[90m# features/create-customer.feature:37?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                   ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.theNextIdentifierIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
2023-05-12 18:10:08.651 ERROR 2533 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=POST#/customers levels=ERROR messages=Validation failed.
[ERROR][REQUEST][POST /customers @body] Object has missing required properties ([&quot;lastName&quot;])
2023-05-12 18:10:08.652  WARN 2533 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;lastName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;POST&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m                                 ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | test       | [empty]   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-12 18:10:08.679  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-12 18:10:08.679  INFO 2533 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-12 18:10:08.682  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-12 18:10:08.684  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-12 18:10:08.685  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6c53ce34, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@64ec804f, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@5008c5a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5ffdea7c, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2dadadd9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2d43bedb, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@2ca08575, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@1cbe3497, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5c3d91bc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6cb84986, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@449be249, org.springframework.test.context.event.EventPublishingTestExecutionListener@296c6cc1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@196ca821, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@373636f3, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2ca413f6, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@66e478c7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1a35f99a, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1c32c581, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@10055e52, io.zonky.test.db.event.EventPublishingTestExecutionListener@55623ed5]
2023-05-12 18:10:08.688  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: Add a customer with some invalid attributes       ?[90m# features/create-customer.feature:38?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                   ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.theNextIdentifierIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
2023-05-12 18:10:08.811 ERROR 2533 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=POST#/customers levels=ERROR messages=Validation failed.
[ERROR][REQUEST][POST /customers @body] Object has missing required properties ([&quot;firstName&quot;])
2023-05-12 18:10:08.813  WARN 2533 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;firstName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;POST&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m                                 ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | [empty]    | test      |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-12 18:10:08.831  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-12 18:10:08.832  INFO 2533 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-12 18:10:08.835  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-12 18:10:08.837  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-12 18:10:08.838  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@131af11d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1205d422, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@21f9d977, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2d8b8469, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@695d0adc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@55456711, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@3a182eaf, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@4bc15d49, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4a4ba507, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@34c83eb0, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4fde13d0, org.springframework.test.context.event.EventPublishingTestExecutionListener@e343477, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1940cb2b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6c884b0d, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@53f785df, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7ccf845a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@63c9017b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4db7fe2c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@22014338, io.zonky.test.db.event.EventPublishingTestExecutionListener@22ecee76]
2023-05-12 18:10:08.841  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: Add a customer with some invalid attributes       ?[90m# features/create-customer.feature:39?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                   ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.theNextIdentifierIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.firstname=? and jpacustome0_.lastname=?
2023-05-12 18:10:09.010  WARN 2533 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: customer john doe already exists.
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m                                 ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | john       | doe       |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-12 18:10:09.040  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-12 18:10:09.040  INFO 2533 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-12 18:10:09.044  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-12 18:10:09.045  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-12 18:10:09.047  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@75288f47, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4effab3b, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@5e584389, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@42491839, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@732af580, org.springframework.test.context.support.DirtiesContextTestExecutionListener@40bf2ead, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@5ce76938, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@56653a4d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@72c743f4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4bb4c147, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2c7ddfa0, org.springframework.test.context.event.EventPublishingTestExecutionListener@53b52f30, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1b250e51, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76f65a8b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@34341b2a, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4e826e33, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7d66a634, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@39008911, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2df92850, io.zonky.test.db.event.EventPublishingTestExecutionListener@70d7282a]
2023-05-12 18:10:09.050  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: List all customers                        ?[90m# features/list-customer.feature:11?[0m
  ?[32mGiven ?[0m?[32muser has read permission?[0m                    ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasReadPermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_
  ?[32mWhen ?[0m?[32mlisting all existing customers?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.listingAllExistingCustomers()?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mOK?[0m                    ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe response contains the following customers?[0m ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseContainsTheFollowingCustomers(java.util.List&lt;edu.obya.blueprint.customer.adapter.rest.CustomerSummary&gt;)?[0m
    | id                                   | first-name | last-name | full-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       | john doe  |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     | bob dylan |
2023-05-12 18:10:09.225  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-12 18:10:09.226  INFO 2533 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-12 18:10:09.233  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-12 18:10:09.235  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-12 18:10:09.237  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4a3d0660, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@79172834, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7e4921be, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1232a981, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@309eb3a1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@70886b0e, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@47fbf070, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@408227af, org.springframework.test.context.transaction.TransactionalTestExecutionListener@54497a5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@36a74c18, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2e4752cc, org.springframework.test.context.event.EventPublishingTestExecutionListener@7fa9b7f4, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5ef1fe1b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@52baae51, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@467f47f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@745b4ed4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@250b6762, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@22448db4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1eb85e83, io.zonky.test.db.event.EventPublishingTestExecutionListener@303b9e6e]
2023-05-12 18:10:09.240  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: Show one customer                                           ?[90m# features/list-customer.feature:19?[0m
  ?[32mGiven ?[0m?[32muser has read permission?[0m                                      ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasReadPermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.id=?
  ?[32mWhen ?[0m?[32mgetting existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.gettingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mOK?[0m                                      ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe response contains only the following customer?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseContainsOnlyTheFollowingCustomer(java.util.List&lt;edu.obya.blueprint.customer.adapter.rest.CustomerSummary&gt;)?[0m
    | id                                   | first-name | last-name | full-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       | john doe  |
2023-05-12 18:10:09.399  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-12 18:10:09.400  INFO 2533 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-12 18:10:09.402  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-12 18:10:09.403  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-12 18:10:09.403  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@65a610f7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@101f2ca2, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1fe2da60, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6e1ece3d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3b6a4aa1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@52790b52, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@5bc1eaa7, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@4336b8c4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2a60cd41, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@30d970c4, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@649920aa, org.springframework.test.context.event.EventPublishingTestExecutionListener@129f4465, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@3eb999b2, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@459d81f1, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@68ac7598, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@78a884, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@727ed530, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5bc54087, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@50cefed2, io.zonky.test.db.event.EventPublishingTestExecutionListener@153740c7]
2023-05-12 18:10:09.406  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: customer does exist                                          ?[90m# features/remove-customer.feature:11?[0m
  ?[32mGiven ?[0m?[32muser has remove permission?[0m                                     ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasRemovePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                            ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.id=?
Hibernate: delete from customer where pk=?
  ?[32mWhen ?[0m?[32mremoving existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.removingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mNO_CONTENT?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customer ids is the following?[0m                ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomerIdsIs(java.util.List&lt;edu.obya.blueprint.customer.domain.model.CustomerId&gt;)?[0m
    | id                                   |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc |
2023-05-12 18:10:09.546  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-12 18:10:09.546  INFO 2533 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-12 18:10:09.548  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-12 18:10:09.549  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-12 18:10:09.549  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4a9e4be7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@75f27234, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@40d2a644, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@56fe2233, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6e879a78, org.springframework.test.context.support.DirtiesContextTestExecutionListener@882364e, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@5db7419c, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@7aff1fa3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@28790ede, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@31d07dd9, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@568c71de, org.springframework.test.context.event.EventPublishingTestExecutionListener@548c7eab, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@3463851a, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@66f18fa, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@33588b68, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@416c28e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2cf5cc43, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@52a3a9ef, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@25d77b18, io.zonky.test.db.event.EventPublishingTestExecutionListener@17e7df9e]
2023-05-12 18:10:09.552  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: customer does not exist                                      ?[90m# features/remove-customer.feature:18?[0m
  ?[32mGiven ?[0m?[32muser has remove permission?[0m                                     ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasRemovePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                            ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.id=?
2023-05-12 18:10:09.681  WARN 2533 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Not Found: customer cef60f2c-f5eb-4e2e-8f4b-d1e5dd8e9243 does not exist.
  ?[32mWhen ?[0m?[32mremoving existing customer ?[0m?[32m?[1mcef60f2c-f5eb-4e2e-8f4b-d1e5dd8e9243?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.removingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mNOT_FOUND?[0m                                ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m                  ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-12 18:10:09.702  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-12 18:10:09.703  INFO 2533 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-12 18:10:09.705  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-12 18:10:09.706  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-12 18:10:09.707  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@278e4dc4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@fbd1a1b, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@314ecfa1, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@8d1b425, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5d643896, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3aee9ce3, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@7d9a7fd8, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@786f8cd2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4b3abc1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4a742630, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@643ee419, org.springframework.test.context.event.EventPublishingTestExecutionListener@6033ed50, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7947bf34, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1269538a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@16463f2, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7e4257e3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3ab8f900, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@621508de, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@404c8c9d, io.zonky.test.db.event.EventPublishingTestExecutionListener@2cdd3638]
2023-05-12 18:10:09.714  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: replace one customer                                          ?[90m# features/update-customer.feature:11?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.firstname=? and jpacustome0_.lastname=?
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.id=?
Hibernate: update customer set firstname=?, lastname=?, id=? where pk=?
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | elvis      | presley   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mNO_CONTENT?[0m                                ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is the following?[0m                    ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIs(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | elvis      | presley   |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
2023-05-12 18:10:09.847  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-12 18:10:09.848  INFO 2533 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-12 18:10:09.850  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-12 18:10:09.851  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-12 18:10:09.851  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@10bf4f1c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@c2de6ec, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@5fbf6d4a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@39ce0aba, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@53e36530, org.springframework.test.context.support.DirtiesContextTestExecutionListener@309ae326, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@146b1d42, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@5db94eaf, org.springframework.test.context.transaction.TransactionalTestExecutionListener@15bb7acd, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@725f288f, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3e12aa8b, org.springframework.test.context.event.EventPublishingTestExecutionListener@29c947d0, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@676a2d36, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6cfa6a04, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4797c3e2, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2483eb07, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@12b6713c, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2d239324, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@54d2cdb1, io.zonky.test.db.event.EventPublishingTestExecutionListener@6f32cfff]
2023-05-12 18:10:09.853  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: replace a customer with some invalid attributes       ?[90m# features/update-customer.feature:30?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
2023-05-12 18:10:09.965 ERROR 2533 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=PUT#/customers/ce751f30-217a-422c-b81b-8f75df4917b6 levels=ERROR messages=Validation failed.
[ERROR][REQUEST][PUT /customers/ce751f30-217a-422c-b81b-8f75df4917b6 @body] Object has missing required properties ([&quot;firstName&quot;,&quot;lastName&quot;])
2023-05-12 18:10:09.966  WARN 2533 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;firstName\&quot;,\&quot;lastName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers/ce751f30-217a-422c-b81b-8f75df4917b6&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;PUT&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | [empty]    | [empty]   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m                   ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-12 18:10:09.978  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-12 18:10:09.978  INFO 2533 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-12 18:10:09.980  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-12 18:10:09.981  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-12 18:10:09.982  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3072b38f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@61c3b31c, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@623f27a9, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7d1a1ee9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@58d1340e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@24f6375b, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@3f6f5e03, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@122ff251, org.springframework.test.context.transaction.TransactionalTestExecutionListener@438fc55e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@56567e9b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@130cad14, org.springframework.test.context.event.EventPublishingTestExecutionListener@7edc785e, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@43c4f7ee, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2683fbab, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@50118662, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4d121ab6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@290def7d, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@10ea1754, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4c14b1bd, io.zonky.test.db.event.EventPublishingTestExecutionListener@110ed523]
2023-05-12 18:10:09.984  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: replace a customer with some invalid attributes       ?[90m# features/update-customer.feature:31?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
2023-05-12 18:10:10.097 ERROR 2533 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=PUT#/customers/ce751f30-217a-422c-b81b-8f75df4917b6 levels=ERROR messages=Validation failed.
[ERROR][REQUEST][PUT /customers/ce751f30-217a-422c-b81b-8f75df4917b6 @body] Object has missing required properties ([&quot;lastName&quot;])
2023-05-12 18:10:10.098  WARN 2533 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;lastName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers/ce751f30-217a-422c-b81b-8f75df4917b6&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;PUT&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | test       | [empty]   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m                   ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-12 18:10:10.108  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-12 18:10:10.108  INFO 2533 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-12 18:10:10.110  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-12 18:10:10.111  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-12 18:10:10.112  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@42caaae4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@28a50dec, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1c8020c6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@46febe84, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5174b135, org.springframework.test.context.support.DirtiesContextTestExecutionListener@513e0c9a, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@4c25906b, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@7f1c1df5, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b95e63a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2a6e710e, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4a281ae0, org.springframework.test.context.event.EventPublishingTestExecutionListener@55c445e5, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7144cd51, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@28fb3476, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@228ec493, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5592464a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@26b37ec, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7342eb53, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@27bc13f4, io.zonky.test.db.event.EventPublishingTestExecutionListener@605ba15f]
2023-05-12 18:10:10.114  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: replace a customer with some invalid attributes       ?[90m# features/update-customer.feature:32?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
2023-05-12 18:10:10.226 ERROR 2533 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=PUT#/customers/ce751f30-217a-422c-b81b-8f75df4917b6 levels=ERROR messages=Validation failed.
[ERROR][REQUEST][PUT /customers/ce751f30-217a-422c-b81b-8f75df4917b6 @body] Object has missing required properties ([&quot;firstName&quot;])
2023-05-12 18:10:10.227  WARN 2533 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;firstName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers/ce751f30-217a-422c-b81b-8f75df4917b6&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;PUT&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | [empty]    | test      |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m                   ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-12 18:10:10.238  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-12 18:10:10.239  INFO 2533 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-12 18:10:10.241  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-12 18:10:10.242  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-12 18:10:10.243  INFO 2533 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6a6b5f00, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5fb65af5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@166a81d9, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@12329d37, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2211432e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4f1dd46b, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@d3bf018, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@be60fad, org.springframework.test.context.transaction.TransactionalTestExecutionListener@234635cc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2591343, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@50309820, org.springframework.test.context.event.EventPublishingTestExecutionListener@6b907eec, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@79eade07, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@33e31972, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@674666b6, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@f4903ac, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@207ceea4, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@bff5b50, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5f58ff4f, io.zonky.test.db.event.EventPublishingTestExecutionListener@18cbd36b]
2023-05-12 18:10:10.245  INFO 2533 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/wicytuktcdpo?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: replace a customer with some invalid attributes       ?[90m# features/update-customer.feature:33?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.firstname=? and jpacustome0_.lastname=?
2023-05-12 18:10:10.394  WARN 2533 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: customer bob dylan already exists.
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | bob        | dylan     |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m                   ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 8.0.2</a> at May 12, 2023, 6:10:10 PM</p>
</div>
</div>
</body>
</html>
