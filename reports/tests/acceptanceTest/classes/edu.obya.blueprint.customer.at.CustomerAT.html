<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - CustomerAT</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>CustomerAT</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/edu.obya.blueprint.customer.at.html">edu.obya.blueprint.customer.at</a> &gt; CustomerAT</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">23</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">14.125s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">A user must be authenticated to create</td>
<td class="success">0.131s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user must be authenticated to modify</td>
<td class="success">0.138s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user must be authenticated to read</td>
<td class="success">10.643s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user must be authenticated to remove</td>
<td class="success">0.134s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with no permission cannot create</td>
<td class="success">0.144s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with no permission cannot modify</td>
<td class="success">0.147s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with no permission cannot read</td>
<td class="success">0.182s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with no permission cannot remove</td>
<td class="success">0.140s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with write permission cannot remove</td>
<td class="success">0.234s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Add a new customer to the existing customers</td>
<td class="success">0.378s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.1</td>
<td class="success">0.156s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.1</td>
<td class="success">0.129s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.2</td>
<td class="success">0.152s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.2</td>
<td class="success">0.126s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.3</td>
<td class="success">0.127s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.3</td>
<td class="success">0.150s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.4</td>
<td class="success">0.156s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.4</td>
<td class="success">0.137s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">List all customers</td>
<td class="success">0.170s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Show one customer</td>
<td class="success">0.142s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">customer does exist</td>
<td class="success">0.146s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">customer does not exist</td>
<td class="success">0.129s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">replace one customer</td>
<td class="success">0.134s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>14:25:09.902 [Test worker] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
14:25:09.911 [Test worker] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
14:25:09.923 [Test worker] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
14:25:09.932 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
14:25:09.935 [Test worker] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: class path resource [edu/obya/blueprint/customer/at/CustomerCucumberBootstrap-context.xml] does not exist
14:25:09.936 [Test worker] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: class path resource [edu/obya/blueprint/customer/at/CustomerCucumberBootstrapContext.groovy] does not exist
14:25:09.937 [Test worker] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
14:25:10.039 [Test worker] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/runner/work/arch-blueprint-java/arch-blueprint-java/build/classes/java/main/edu/obya/blueprint/Application.class]
14:25:10.040 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
14:25:10.128 [Test worker] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: using defaults.
14:25:10.128 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
14:25:10.145 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@672a1c62, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@459b6c53, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@39e69ea7, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@490c7a83, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7e72a6cc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6015a4a5, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@6d0b0da6, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@4779aae6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2cd62003, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@61ab89b0, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5478ce1e, org.springframework.test.context.event.EventPublishingTestExecutionListener@5edc70ed, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4317850d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7e4c72d6, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6cd64b3f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@51b01550, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2ef0dd86, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3337d04c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6de6faa6, io.zonky.test.db.event.EventPublishingTestExecutionListener@3cad68df]
 ██████╗██╗   ██╗███████╗████████╗ ██████╗ ███╗   ███╗███████╗██████╗ 
██╔════╝██║   ██║██╔════╝╚══██╔══╝██╔═══██╗████╗ ████║██╔════╝██╔══██╗
██║     ██║   ██║███████╗   ██║   ██║   ██║██╔████╔██║█████╗  ██████╔╝
██║     ██║   ██║╚════██║   ██║   ██║   ██║██║╚██╔╝██║██╔══╝  ██╔══██╗
╚██████╗╚██████╔╝███████║   ██║   ╚██████╔╝██║ ╚═╝ ██║███████╗██║  ██║
 ╚═════╝ ╚═════╝ ╚══════╝   ╚═╝    ╚═════╝ ╚═╝     ╚═╝╚══════╝╚═╝  ╚═╝
2023-05-09 14:25:10.437  WARN 2483 --- [    Test worker] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/home/runner/.gradle/caches/modules-2/files-2.1/org.json/json/20220924/5aa95e7688f76c664af205c5937620f02688dfbc/json-20220924.jar!/org/json/JSONObject.class
	jar:file:/home/runner/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-05-09 14:25:10.459  INFO 2483 --- [    Test worker] e.o.b.c.at.CustomerCucumberBootstrap     : Starting CustomerCucumberBootstrap using Java 17.0.7 on fv-az586-31 with PID 2483 (started by runner in /home/runner/work/arch-blueprint-java/arch-blueprint-java)
2023-05-09 14:25:10.460  INFO 2483 --- [    Test worker] e.o.b.c.at.CustomerCucumberBootstrap     : The following 2 profiles are active: &quot;test&quot;, &quot;jpa&quot;
2023-05-09 14:25:11.511  INFO 2483 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-09 14:25:11.634  INFO 2483 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 117 ms. Found 1 JPA repository interfaces.
2023-05-09 14:25:12.077  INFO 2483 --- [    Test worker] EmbeddedDatabaseContextCustomizerFactory : Replacing 'dataSource' DataSource bean with embedded version
2023-05-09 14:25:12.855  INFO 2483 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.zalando.problem.spring.web.autoconfigure.security.ProblemSecurityAutoConfiguration' of type [org.zalando.problem.spring.web.autoconfigure.security.ProblemSecurityAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-09 14:25:12.893  INFO 2483 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'io.zonky.test.db.config.EmbeddedDatabaseAutoConfiguration' of type [io.zonky.test.db.config.EmbeddedDatabaseAutoConfiguration$$EnhancerBySpringCGLIB$$48b90ee4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-09 14:25:13.209  INFO 2483 --- [  prefetching-1] o.t.utility.ImageNameSubstitutor         : Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-05-09 14:25:13.222  INFO 2483 --- [  prefetching-1] o.t.d.DockerClientProviderStrategy       : Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-05-09 14:25:13.656  INFO 2483 --- [  prefetching-1] o.t.d.DockerClientProviderStrategy       : Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-05-09 14:25:13.658  INFO 2483 --- [  prefetching-1] org.testcontainers.DockerClientFactory   : Docker host IP address is localhost
2023-05-09 14:25:13.680  INFO 2483 --- [  prefetching-1] org.testcontainers.DockerClientFactory   : Connected to docker: 
  Server Version: 20.10.24+azure-1
  API Version: 1.41
  Operating System: Ubuntu 22.04.2 LTS
  Total Memory: 6943 MB
2023-05-09 14:25:13.733  INFO 2483 --- [  prefetching-1] &#x1f433; [testcontainers/ryuk:0.3.4]           : Creating container for image: testcontainers/ryuk:0.3.4
2023-05-09 14:25:13.851  INFO 2483 --- [  prefetching-1] &#x1f433; [testcontainers/ryuk:0.3.4]           : Container testcontainers/ryuk:0.3.4 is starting: 5cfbb64f2ba85def0ac3af2ac5f2c285f6f88656edf5eb03f1818c4434693937
2023-05-09 14:25:14.242  INFO 2483 --- [  prefetching-1] &#x1f433; [testcontainers/ryuk:0.3.4]           : Container testcontainers/ryuk:0.3.4 started in PT0.553401938S
2023-05-09 14:25:14.247  INFO 2483 --- [  prefetching-1] o.t.utility.RyukResourceReaper           : Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-05-09 14:25:14.247  INFO 2483 --- [  prefetching-1] org.testcontainers.DockerClientFactory   : Checking the system...
2023-05-09 14:25:14.247  INFO 2483 --- [  prefetching-1] org.testcontainers.DockerClientFactory   : ✔︎ Docker server version should be at least 1.6.0
2023-05-09 14:25:14.248  INFO 2483 --- [  prefetching-1] &#x1f433; [postgres:11-alpine]                  : Creating container for image: postgres:11-alpine
2023-05-09 14:25:14.276  INFO 2483 --- [  prefetching-1] &#x1f433; [postgres:11-alpine]                  : Container postgres:11-alpine is starting: c9758f4665f5f7aba71a876a83b2caa13e398d3b3e8468936385dcd88ce0f516
2023-05-09 14:25:15.825  INFO 2483 --- [  prefetching-1] &#x1f433; [postgres:11-alpine]                  : Container postgres:11-alpine started in PT1.577143558S
2023-05-09 14:25:15.839  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The files belonging to this database system will be owned by user &quot;postgres&quot;.
2023-05-09 14:25:15.841  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: This user must also own the server process.
2023-05-09 14:25:15.842  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-09 14:25:15.842  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The database cluster will be initialized with locale &quot;en_US.utf8&quot;.
2023-05-09 14:25:15.843  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The default database encoding has accordingly been set to &quot;UTF8&quot;.
2023-05-09 14:25:15.845  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The default text search configuration will be set to &quot;english&quot;.
2023-05-09 14:25:15.846  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-09 14:25:15.846  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: Data page checksums are disabled.
2023-05-09 14:25:15.847  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-09 14:25:15.848  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: fixing permissions on existing directory /var/lib/postgresql/data ... ok
2023-05-09 14:25:15.851  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: creating subdirectories ... ok
2023-05-09 14:25:15.854  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: selecting default max_connections ... 100
2023-05-09 14:25:15.858  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: selecting default shared_buffers ... 128MB
2023-05-09 14:25:15.858  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: selecting default timezone ... UTC
2023-05-09 14:25:15.859  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: selecting dynamic shared memory implementation ... posix
2023-05-09 14:25:15.859  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: creating configuration files ... ok
2023-05-09 14:25:15.859  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: running bootstrap script ... ok
2023-05-09 14:25:15.860  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: sh: locale: not found
2023-05-09 14:25:15.860  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-09 14:25:14.933 UTC [30] WARNING:  no usable system locales were found
2023-05-09 14:25:15.860  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: performing post-bootstrap initialization ... ok
2023-05-09 14:25:15.860  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-09 14:25:15.861  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: Sync to disk skipped.
2023-05-09 14:25:15.861  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The data directory might become corrupt if the operating system crashes.
2023-05-09 14:25:15.861  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-09 14:25:15.862  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: Success. You can now start the database server using:
2023-05-09 14:25:15.862  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-09 14:25:15.864  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT:     pg_ctl -D /var/lib/postgresql/data -l logfile start
2023-05-09 14:25:15.864  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-09 14:25:15.865  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 
2023-05-09 14:25:15.865  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: WARNING: enabling &quot;trust&quot; authentication for local connections
2023-05-09 14:25:15.865  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: You can change this by editing pg_hba.conf or using the option -A, or
2023-05-09 14:25:15.866  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: --auth-local and --auth-host, the next time you run initdb.
2023-05-09 14:25:15.866  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: waiting for server to start....2023-05-09 14:25:15.358 UTC [36] LOG:  listening on Unix socket &quot;/var/run/postgresql/.s.PGSQL.5432&quot;
2023-05-09 14:25:15.866  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-09 14:25:15.372 UTC [37] LOG:  database system was shut down at 2023-05-09 14:25:15 UTC
2023-05-09 14:25:15.866  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-09 14:25:15.378 UTC [36] LOG:  database system is ready to accept connections
2023-05-09 14:25:15.867  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT:  done
2023-05-09 14:25:15.867  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: server started
2023-05-09 14:25:15.869  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: CREATE DATABASE
2023-05-09 14:25:15.869  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-09 14:25:15.869  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-09 14:25:15.869  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*
2023-05-09 14:25:15.870  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-09 14:25:15.870  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-09 14:25:15.691 UTC [36] LOG:  received fast shutdown request
2023-05-09 14:25:15.870  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-09 14:25:15.691 UTC [36] LOG:  aborting any active transactions
2023-05-09 14:25:15.871  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: waiting for server to shut down....2023-05-09 14:25:15.694 UTC [36] LOG:  background worker &quot;logical replication launcher&quot; (PID 43) exited with exit code 1
2023-05-09 14:25:15.872  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-09 14:25:15.695 UTC [38] LOG:  shutting down
2023-05-09 14:25:15.872  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-09 14:25:15.699 UTC [36] LOG:  database system is shut down
2023-05-09 14:25:15.872  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT:  done
2023-05-09 14:25:15.873  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: server stopped
2023-05-09 14:25:15.873  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-09 14:25:15.873  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: PostgreSQL init process complete; ready for start up.
2023-05-09 14:25:15.874  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-09 14:25:15.874  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-09 14:25:15.800 UTC [1] LOG:  listening on IPv4 address &quot;0.0.0.0&quot;, port 5432
2023-05-09 14:25:15.875  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-09 14:25:15.800 UTC [1] LOG:  listening on IPv6 address &quot;::&quot;, port 5432
2023-05-09 14:25:15.875  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-09 14:25:15.800 UTC [1] LOG:  listening on Unix socket &quot;/var/run/postgresql/.s.PGSQL.5432&quot;
2023-05-09 14:25:15.875  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-09 14:25:15.814 UTC [51] LOG:  database system was shut down at 2023-05-09 14:25:15 UTC
2023-05-09 14:25:15.875  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-09 14:25:15.819 UTC [1] LOG:  database system is ready to accept connections
2023-05-09 14:25:16.160  INFO 2483 --- [  prefetching-1] liquibase.database                       : Set default schema name to public
2023-05-09 14:25:16.216  WARN 2483 --- [  prefetching-1] liquibase.util                           : Failed to perform a method call for SnakeYaml because the version of SnakeYaml being used is too old. Consider upgrading to a SnakeYaml version equal to or newer than 1.32, by downloading and installing a newer version of Liquibase (which includes a newer version of SnakeYaml). Loading particularly large JSON and YAML documents (like snapshots) in Liquibase may fail if SnakeYaml is not upgraded.

java.lang.NoSuchMethodError: 'void org.yaml.snakeyaml.LoaderOptions.setCodePointLimit(int)'
	at liquibase.util.SnakeYamlUtil.lambda$setCodePointLimitSafely$0(SnakeYamlUtil.java:23) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.util.SnakeYamlUtil.safelyCallNewSnakeYamlMethod(SnakeYamlUtil.java:39) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.util.SnakeYamlUtil.setCodePointLimitSafely(SnakeYamlUtil.java:23) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.parser.core.yaml.YamlParser.createLoaderOptions(YamlParser.java:16) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:26) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:607) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:591) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase$16.run(Liquibase.java:2290) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:2639) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.listUnrunChangeSets(Liquibase.java:2286) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.isUpToDateFastCheck(Liquibase.java:506) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:237) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:2639) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:236) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:221) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284) ~[liquibase-core-4.20.0.jar:na]
	at io.zonky.test.db.liquibase.LiquibaseDatabasePreparer.prepare(LiquibaseDatabasePreparer.java:70) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.preparer.CompositeDatabasePreparer.prepare(CompositeDatabasePreparer.java:49) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.postgres.DockerPostgresDatabaseProvider$DatabaseInstance.createDatabase(DockerPostgresDatabaseProvider.java:214) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.postgres.DockerPostgresDatabaseProvider.createDatabase(DockerPostgresDatabaseProvider.java:114) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.postgres.DockerPostgresDatabaseProvider.createTemplate(DockerPostgresDatabaseProvider.java:102) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider.createTemplate(TemplatingDatabaseProvider.java:129) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider.lambda$createTemplateIfPossible$1(TemplatingDatabaseProvider.java:171) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider$TemplateWrapper.loadTemplate(TemplatingDatabaseProvider.java:294) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider$TemplateWrapper.access$200(TemplatingDatabaseProvider.java:224) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider.createTemplateIfPossible(TemplatingDatabaseProvider.java:171) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider.createDatabase(TemplatingDatabaseProvider.java:112) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.TemplatingDatabaseProvider.createDatabase(TemplatingDatabaseProvider.java:104) ~[embedded-database-spring-test-2.2.0.jar:na]
	at io.zonky.test.db.provider.common.PrefetchingDatabaseProvider$PrefetchingTask.lambda$forPreparer$0(PrefetchingDatabaseProvider.java:391) ~[embedded-database-spring-test-2.2.0.jar:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at io.zonky.test.db.provider.common.PrefetchingDatabaseProvider$PrefetchingTask.run(PrefetchingDatabaseProvider.java:420) ~[embedded-database-spring-test-2.2.0.jar:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-05-09 14:25:16.351  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-09 14:25:16.351 UTC [59] ERROR:  relation &quot;public.databasechangelog&quot; does not exist at character 22
2023-05-09 14:25:16.351  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-09 14:25:16.351 UTC [59] STATEMENT:  SELECT COUNT(*) FROM public.databasechangelog
2023-05-09 14:25:16.403  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-09 14:25:16.403 UTC [59] ERROR:  relation &quot;public.databasechangeloglock&quot; does not exist at character 22
2023-05-09 14:25:16.403  INFO 2483 --- [ream--706417370] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-09 14:25:16.403 UTC [59] STATEMENT:  SELECT COUNT(*) FROM public.databasechangeloglock
2023-05-09 14:25:16.414  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-09 14:25:16.417  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-09 14:25:16.421  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-09 14:25:16.423  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-09 14:25:16.426  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-09 14:25:16.426  INFO 2483 --- [  prefetching-1] liquibase.lockservice                    : Successfully acquired change log lock
2023-05-09 14:25:16.439  INFO 2483 --- [  prefetching-1] liquibase.changelog                      : Creating database history table with name: public.databasechangelog
2023-05-09 14:25:16.444  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-09 14:25:16.445  INFO 2483 --- [  prefetching-1] liquibase.changelog                      : Reading from public.databasechangelog
2023-05-09 14:25:16.447  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-09 14:25:16.449  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
Running Changeset: db/changelog/db.changelog-1-added-customer-table.yaml::1.1::vondacho
2023-05-09 14:25:16.476  INFO 2483 --- [  prefetching-1] liquibase.changelog                      : Table customer created
2023-05-09 14:25:16.477  INFO 2483 --- [  prefetching-1] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-1-added-customer-table.yaml::1.1::vondacho ran successfully in 5ms
2023-05-09 14:25:16.479  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-09 14:25:16.480  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
Running Changeset: db/changelog/db.changelog-1-added-customer-table.yaml::1.2::vondacho
2023-05-09 14:25:16.483  INFO 2483 --- [  prefetching-1] liquibase.changelog                      : Index idx_customer_id created
2023-05-09 14:25:16.484  INFO 2483 --- [  prefetching-1] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-1-added-customer-table.yaml::1.2::vondacho ran successfully in 3ms
2023-05-09 14:25:16.485  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-09 14:25:16.486  INFO 2483 --- [  prefetching-1] liquibase                                : Update command completed successfully.
2023-05-09 14:25:16.488  INFO 2483 --- [  prefetching-1] liquibase.executor                       : Changelog query completed.
2023-05-09 14:25:16.489  INFO 2483 --- [  prefetching-1] liquibase.lockservice                    : Successfully released change log lock
2023-05-09 14:25:16.601  INFO 2483 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-05-09 14:25:16.638  INFO 2483 --- [    Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-05-09 14:25:16.667  INFO 2483 --- [    Test worker] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-05-09 14:25:16.768  INFO 2483 --- [    Test worker] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-05-09 14:25:17.168  INFO 2483 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-05-09 14:25:17.176  INFO 2483 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-05-09 14:25:19.001  INFO 2483 --- [    Test worker] s.w.a.s.ProblemSecurityBeanPostProcessor : Register HttpSecurity's exceptionHandling
2023-05-09 14:25:19.412  INFO 2483 --- [    Test worker] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/admin'
2023-05-09 14:25:19.504  INFO 2483 --- [    Test worker] o.z.p.s.w.a.s.ProblemHttpConfigurer      : Register HttpSecurity's exceptionHandling
2023-05-09 14:25:19.569  INFO 2483 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6d03404e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@664f1c53, org.springframework.security.web.context.SecurityContextPersistenceFilter@177d7e98, org.springframework.security.web.header.HeaderWriterFilter@65fc2639, org.springframework.security.web.authentication.logout.LogoutFilter@7ee46aaf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2242dd2b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ec22804, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@62b71cfa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20bd4fd2, org.springframework.security.web.session.SessionManagementFilter@7cb7ca06, org.springframework.security.web.access.ExceptionTranslationFilter@b6c290a, org.springframework.security.web.access.intercept.AuthorizationFilter@f5475d7]
2023-05-09 14:25:20.017  INFO 2483 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-05-09 14:25:20.017  INFO 2483 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-05-09 14:25:20.018  INFO 2483 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2023-05-09 14:25:20.081  INFO 2483 --- [    Test worker] e.o.b.c.at.CustomerCucumberBootstrap     : Started CustomerCucumberBootstrap in 9.909 seconds (JVM running for 12.025)
2023-05-09 14:25:20.143  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user must be authenticated to read                        ?[90m# features/access-control.feature:11?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser is not authenticated?[0m                                     ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserIsNotAuthenticated()?[0m
  ?[32mWhen ?[0m?[32mgetting existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.gettingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mUNAUTHORIZED?[0m                            ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-09 14:25:20.522  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-09 14:25:20.523  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-09 14:25:20.526  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-09 14:25:20.527  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-09 14:25:20.527  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1390db9e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@f0ead61, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@61ab2bcc, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@27551c3a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@328c6f65, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4893a9f0, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@70de1e65, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@7f657888, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2ec3d746, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7bca3747, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@7be7236d, org.springframework.test.context.event.EventPublishingTestExecutionListener@2f92b5a1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1f5b3ef2, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@35014251, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@77bff3d7, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4dba7f3c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@bd074d7, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@34fcbc36, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3c55c035, io.zonky.test.db.event.EventPublishingTestExecutionListener@22881b1c]
2023-05-09 14:25:20.530  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user with no permission cannot read                       ?[90m# features/access-control.feature:16?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser has no permission?[0m                                        ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasNoPermission()?[0m
2023-05-09 14:25:20.659  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Forbidden: Access Denied
  ?[32mWhen ?[0m?[32mgetting existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.gettingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-09 14:25:20.707  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-09 14:25:20.707  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-09 14:25:20.710  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-09 14:25:20.712  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-09 14:25:20.712  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@467c785d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1d302061, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7a4729e6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@57f9cc7a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7262f848, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6e4dfd4d, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@2d86f17b, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@340572ad, org.springframework.test.context.transaction.TransactionalTestExecutionListener@51406cdd, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5066442d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4a716a73, org.springframework.test.context.event.EventPublishingTestExecutionListener@55fee98a, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@70a416c, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@652f3a8c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@24ccf6a8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6dcf902, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5308c994, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4f6f6223, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@c55b4d0, io.zonky.test.db.event.EventPublishingTestExecutionListener@6d2058b1]
2023-05-09 14:25:20.715  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user must be authenticated to create ?[90m# features/access-control.feature:23?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m    ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser is not authenticated?[0m                ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserIsNotAuthenticated()?[0m
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m              ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | bob        | dylan     |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mUNAUTHORIZED?[0m       ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-09 14:25:20.846  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-09 14:25:20.847  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-09 14:25:20.850  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-09 14:25:20.852  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-09 14:25:20.852  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@33ea43a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@594c830f, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@294e4c35, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3676e04a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@409f9dca, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7df63a2d, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@2682fe42, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@27f73e68, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b3a8691, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@57d1e089, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@669074df, org.springframework.test.context.event.EventPublishingTestExecutionListener@780a021b, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@374b1d85, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6f46764d, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@a95c1f6, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@22271065, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4d6f8691, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@11c7756f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@35798cd0, io.zonky.test.db.event.EventPublishingTestExecutionListener@2fc70622]
2023-05-09 14:25:20.855  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user with no permission cannot create ?[90m# features/access-control.feature:30?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m     ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser has no permission?[0m                    ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasNoPermission()?[0m
2023-05-09 14:25:20.975  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Forbidden: Access Denied
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | bob        | dylan     |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m           ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-09 14:25:20.993  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-09 14:25:20.993  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-09 14:25:20.997  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-09 14:25:20.998  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-09 14:25:20.998  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@25478603, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3c7dbf1f, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2efbe938, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bab7179, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@12459991, org.springframework.test.context.support.DirtiesContextTestExecutionListener@43114981, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@3252daf2, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@62225578, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5c15d1bc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1581c6fe, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@31201bf6, org.springframework.test.context.event.EventPublishingTestExecutionListener@4159113f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@3333b099, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@281e2637, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@19507769, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@10095d95, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3e909075, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6766260e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7d97eeb4, io.zonky.test.db.event.EventPublishingTestExecutionListener@2728e166]
2023-05-09 14:25:21.001  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user must be authenticated to modify                        ?[90m# features/access-control.feature:37?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser is not authenticated?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserIsNotAuthenticated()?[0m
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | elvis      | presley   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mUNAUTHORIZED?[0m                              ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-09 14:25:21.135  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-09 14:25:21.136  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-09 14:25:21.139  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-09 14:25:21.141  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-09 14:25:21.142  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5876bdbb, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4fa62aed, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@4e370f52, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@24cc60ef, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@49ba8aa8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@37353030, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@418ee41b, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@6822fdd, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1bf00a6f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5da1d91, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@33c28f0d, org.springframework.test.context.event.EventPublishingTestExecutionListener@2429a26f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@3f9167f7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6a72d301, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4d6f83a5, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@24bc7abd, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@10260f02, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6c303cdc, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5df3f854, io.zonky.test.db.event.EventPublishingTestExecutionListener@1a5d08c5]
2023-05-09 14:25:21.145  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user with no permission cannot modify                       ?[90m# features/access-control.feature:44?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser has no permission?[0m                                          ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasNoPermission()?[0m
2023-05-09 14:25:21.268  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Forbidden: Access Denied
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | elvis      | presley   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m                                 ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-09 14:25:21.282  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-09 14:25:21.283  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-09 14:25:21.286  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-09 14:25:21.287  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-09 14:25:21.289  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7ab7a4eb, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7ec00f98, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@67b68dc3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5922338f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1e7544bc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@60b73425, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@33bc7565, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@7bca96d6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4f2e6db7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@16e17e6b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@46a6368f, org.springframework.test.context.event.EventPublishingTestExecutionListener@69f564ab, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@550afff7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4805d11b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3f6094da, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7d726fa1, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7f05d2bf, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@196e494d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2213c8fe, io.zonky.test.db.event.EventPublishingTestExecutionListener@4cf2b47a]
2023-05-09 14:25:21.291  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user must be authenticated to remove                       ?[90m# features/access-control.feature:51?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                          ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser is not authenticated?[0m                                      ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserIsNotAuthenticated()?[0m
  ?[32mWhen ?[0m?[32mremoving existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.removingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mUNAUTHORIZED?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-09 14:25:21.419  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-09 14:25:21.420  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-09 14:25:21.422  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-09 14:25:21.423  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-09 14:25:21.424  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4733c7f0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@fd10007, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2004e611, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@75cc775c, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2c992252, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2bcfdefe, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@2cfc81f8, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@3a1c65ac, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5ff24b0f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@a9f4621, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@42a4e5cb, org.springframework.test.context.event.EventPublishingTestExecutionListener@1bccd936, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@562b4373, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@26f5a9d9, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@431a9a71, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3e62fe4d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@325e1229, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@396eceda, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2e300294, io.zonky.test.db.event.EventPublishingTestExecutionListener@7890189]
2023-05-09 14:25:21.427  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user with no permission cannot remove                      ?[90m# features/access-control.feature:56?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                          ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser has no permission?[0m                                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasNoPermission()?[0m
2023-05-09 14:25:21.545  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Forbidden: Access Denied
  ?[32mWhen ?[0m?[32mremoving existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.removingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m                                ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-09 14:25:21.561  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-09 14:25:21.561  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-09 14:25:21.565  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-09 14:25:21.566  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-09 14:25:21.567  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@313b6907, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@74e14434, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@13f4149d, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3f64a088, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@557d9532, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2bc3ab4d, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@18a01254, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@25a8128, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3bb75054, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@d980dac, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@15329cf9, org.springframework.test.context.event.EventPublishingTestExecutionListener@43b70cb6, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4203d164, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@fbb41e5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@eefc1bf, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7546be68, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2992d955, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7cf311eb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@ce1c5f3, io.zonky.test.db.event.EventPublishingTestExecutionListener@4c949ff9]
2023-05-09 14:25:21.570  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: A user with write permission cannot remove                   ?[90m# features/access-control.feature:61?[0m
  ?[32mGiven ?[0m?[32ma following set of existing customers?[0m                          ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                      ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
2023-05-09 14:25:21.781  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Forbidden: Access is denied
  ?[32mWhen ?[0m?[32mremoving existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.removingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m                                ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-09 14:25:21.806  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-09 14:25:21.806  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-09 14:25:21.808  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-09 14:25:21.809  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-09 14:25:21.810  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@313d5a87, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5f50f63e, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@24338110, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@69e87cbe, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@32daea66, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6ae30b05, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@52602c48, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@78c7a736, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1dabeb92, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6fe27001, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3cb303d9, org.springframework.test.context.event.EventPublishingTestExecutionListener@7988fd6e, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@3b3d7eb6, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@47a363a8, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@632a1d4e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5d77efc8, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@d6ff21e, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@510d6e38, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@627ed93a, io.zonky.test.db.event.EventPublishingTestExecutionListener@157312]
2023-05-09 14:25:21.815  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: Add a new customer to the existing customers                 ?[90m# features/create-customer.feature:12?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                      ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                            ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m    ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.theNextIdentifierIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.firstname=? and jpacustome0_.lastname=?
Hibernate: select jpacustome0_.pk as pk1_0_0_, jpacustome0_.firstname as firstnam2_0_0_, jpacustome0_.lastname as lastname3_0_0_, jpacustome0_.id as id4_0_0_ from customer jpacustome0_ where jpacustome0_.pk=?
Hibernate: insert into customer (firstname, lastname, id, pk) values (?, ?, ?, ?)
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m                                    ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | bob        | dylan     |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mCREATED?[0m                                  ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe returned customer id is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theReturnedIdIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is the following?[0m                   ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIs(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
2023-05-09 14:25:22.187  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-09 14:25:22.187  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-09 14:25:22.189  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-09 14:25:22.190  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-09 14:25:22.191  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4501e484, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1727aa28, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@8a20b8e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@75c1c32b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3fae2cd3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1572b7e4, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@d9420bf, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@763772bd, org.springframework.test.context.transaction.TransactionalTestExecutionListener@38b1101c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@387c5d79, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@14c10311, org.springframework.test.context.event.EventPublishingTestExecutionListener@592e29ae, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@692ff367, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@33e2ecae, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2fa7a848, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@76c974b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@114ef80a, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@356de111, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@279afa1c, io.zonky.test.db.event.EventPublishingTestExecutionListener@44aff76b]
2023-05-09 14:25:22.193  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: Add a customer with some invalid attributes       ?[90m# features/create-customer.feature:36?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                   ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.theNextIdentifierIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
2023-05-09 14:25:22.311 ERROR 2483 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=POST#/customers levels=ERROR messages=Validation failed.
[ERROR][REQUEST][POST /customers @body] Object has missing required properties ([&quot;firstName&quot;,&quot;lastName&quot;])
2023-05-09 14:25:22.326  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;firstName\&quot;,\&quot;lastName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;POST&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m                                 ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | [empty]    | [empty]   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-09 14:25:22.348  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-09 14:25:22.348  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-09 14:25:22.351  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-09 14:25:22.354  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-09 14:25:22.355  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@66009368, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5bbda7e2, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@37500808, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@daa6654, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6fd33f5a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@596707f5, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@6ec05499, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@308617d3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4659d776, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@276038e7, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4be8d40e, org.springframework.test.context.event.EventPublishingTestExecutionListener@4bd06a2f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@433ae644, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@653b49c4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@687eb9c9, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@203737fb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@34abfd7f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@be1f747, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@164ca703, io.zonky.test.db.event.EventPublishingTestExecutionListener@f5dd2de]
2023-05-09 14:25:22.359  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: Add a customer with some invalid attributes       ?[90m# features/create-customer.feature:37?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                   ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.theNextIdentifierIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
2023-05-09 14:25:22.482 ERROR 2483 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=POST#/customers levels=ERROR messages=Validation failed.
[ERROR][REQUEST][POST /customers @body] Object has missing required properties ([&quot;lastName&quot;])
2023-05-09 14:25:22.483  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;lastName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;POST&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m                                 ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | test       | [empty]   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-09 14:25:22.507  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-09 14:25:22.507  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-09 14:25:22.510  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-09 14:25:22.512  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-09 14:25:22.512  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6880c06b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7892045f, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@30081ff4, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@34dcad0d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5ab1b065, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3269e790, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@42eeb996, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@138bd003, org.springframework.test.context.transaction.TransactionalTestExecutionListener@44ee788f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@394642e5, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@ed37e52, org.springframework.test.context.event.EventPublishingTestExecutionListener@4395bc43, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@74889ebe, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7f52aba0, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6ae67bf6, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@47fa54d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3432a612, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5e57149f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@737fd68, io.zonky.test.db.event.EventPublishingTestExecutionListener@7e1b750e]
2023-05-09 14:25:22.515  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: Add a customer with some invalid attributes       ?[90m# features/create-customer.feature:38?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                   ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.theNextIdentifierIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
2023-05-09 14:25:22.636 ERROR 2483 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=POST#/customers levels=ERROR messages=Validation failed.
[ERROR][REQUEST][POST /customers @body] Object has missing required properties ([&quot;firstName&quot;])
2023-05-09 14:25:22.638  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;firstName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;POST&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m                                 ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | [empty]    | test      |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-09 14:25:22.656  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-09 14:25:22.656  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-09 14:25:22.658  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-09 14:25:22.662  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-09 14:25:22.663  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@18fb1034, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1d9a80d8, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@78b5c29f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@79b24f79, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@39088acb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@70dd4172, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@262ac4cc, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@4d089ef7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@30ab1b4f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2a670af9, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5a9bb7dd, org.springframework.test.context.event.EventPublishingTestExecutionListener@536d655f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@3bf47d1e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2956985b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2ef4e7f3, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@168b28ef, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@e8fabad, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@13866e67, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1a44d89b, io.zonky.test.db.event.EventPublishingTestExecutionListener@5547476c]
2023-05-09 14:25:22.666  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: Add a customer with some invalid attributes       ?[90m# features/create-customer.feature:39?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                   ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.theNextIdentifierIs(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.firstname=? and jpacustome0_.lastname=?
2023-05-09 14:25:22.798  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: customer john doe already exists.
  ?[32mWhen ?[0m?[32mregistering the new customer?[0m                                 ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.registeringTheNewCustomer(java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | john       | doe       |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-09 14:25:22.816  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-09 14:25:22.816  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-09 14:25:22.818  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-09 14:25:22.819  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-09 14:25:22.820  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@48c74c4f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1f32fb77, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@d95150c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@32f53573, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4022a256, org.springframework.test.context.support.DirtiesContextTestExecutionListener@48430066, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@6ddb5117, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@761eaf72, org.springframework.test.context.transaction.TransactionalTestExecutionListener@237b93f5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@73ebf7cc, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@440f434f, org.springframework.test.context.event.EventPublishingTestExecutionListener@47690183, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@38f2c6a0, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@148b13e5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2a202f00, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@25ca56de, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@b234301, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@47fb7dbb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6c88026b, io.zonky.test.db.event.EventPublishingTestExecutionListener@1b03d582]
2023-05-09 14:25:22.822  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: List all customers                        ?[90m# features/list-customer.feature:11?[0m
  ?[32mGiven ?[0m?[32muser has read permission?[0m                    ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasReadPermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m         ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_
  ?[32mWhen ?[0m?[32mlisting all existing customers?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.listingAllExistingCustomers()?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mOK?[0m                    ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe response contains the following customers?[0m ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseContainsTheFollowingCustomers(java.util.List&lt;edu.obya.blueprint.customer.adapter.rest.CustomerSummary&gt;)?[0m
    | id                                   | first-name | last-name | full-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       | john doe  |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     | bob dylan |
2023-05-09 14:25:22.988  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-09 14:25:22.988  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-09 14:25:22.992  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-09 14:25:22.993  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-09 14:25:22.995  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@19c37463, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@d57624a, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@15cdc117, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7f446346, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7da660a1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4bd5086d, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@30ebad79, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@6ce9a671, org.springframework.test.context.transaction.TransactionalTestExecutionListener@22846025, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@41718278, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2c9c7f4a, org.springframework.test.context.event.EventPublishingTestExecutionListener@d679e86, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@c634247, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@414c63f1, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@e6522bd, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3f471e59, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2920028c, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@b51afb2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2c0604af, io.zonky.test.db.event.EventPublishingTestExecutionListener@2b3472a0]
2023-05-09 14:25:22.998  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: Show one customer                                           ?[90m# features/list-customer.feature:19?[0m
  ?[32mGiven ?[0m?[32muser has read permission?[0m                                      ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasReadPermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                           ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.id=?
  ?[32mWhen ?[0m?[32mgetting existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.gettingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mOK?[0m                                      ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe response contains only the following customer?[0m               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseContainsOnlyTheFollowingCustomer(java.util.List&lt;edu.obya.blueprint.customer.adapter.rest.CustomerSummary&gt;)?[0m
    | id                                   | first-name | last-name | full-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       | john doe  |
2023-05-09 14:25:23.132  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-09 14:25:23.132  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-09 14:25:23.134  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-09 14:25:23.135  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-09 14:25:23.135  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@54039b8a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7625f4a7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3727021e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1e1b4e8b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@568c4909, org.springframework.test.context.support.DirtiesContextTestExecutionListener@fd51fb3, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@6ddba5, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@4446b235, org.springframework.test.context.transaction.TransactionalTestExecutionListener@70366fb5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@57b9ce87, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@39e79726, org.springframework.test.context.event.EventPublishingTestExecutionListener@48c15d35, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@b49c85f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@129df247, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@17c60995, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@552cd6ad, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1062f767, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6d9020e6, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4a3d0660, io.zonky.test.db.event.EventPublishingTestExecutionListener@79172834]
2023-05-09 14:25:23.138  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: customer does exist                                          ?[90m# features/remove-customer.feature:11?[0m
  ?[32mGiven ?[0m?[32muser has remove permission?[0m                                     ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasRemovePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                            ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.id=?
Hibernate: delete from customer where pk=?
  ?[32mWhen ?[0m?[32mremoving existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.removingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mNO_CONTENT?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customer ids is the following?[0m                ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomerIdsIs(java.util.List&lt;edu.obya.blueprint.customer.domain.model.CustomerId&gt;)?[0m
    | id                                   |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc |
2023-05-09 14:25:23.278  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-09 14:25:23.279  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-09 14:25:23.281  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-09 14:25:23.281  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-09 14:25:23.282  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@15bb197, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3313002e, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3002acf9, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@34668a96, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@686d5284, org.springframework.test.context.support.DirtiesContextTestExecutionListener@43542dd7, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@66143420, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@6626204e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@645db77c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@60514b5, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@41f79561, org.springframework.test.context.event.EventPublishingTestExecutionListener@1604e941, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1f6b4aaa, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@31e5554e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4c44928e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7dbb24a6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@38c00fa1, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@239462d2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4bac54cc, io.zonky.test.db.event.EventPublishingTestExecutionListener@6f96c70b]
2023-05-09 14:25:23.284  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: customer does not exist                                      ?[90m# features/remove-customer.feature:18?[0m
  ?[32mGiven ?[0m?[32muser has remove permission?[0m                                     ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasRemovePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                            ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.id=?
2023-05-09 14:25:23.398  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Not Found: customer cef60f2c-f5eb-4e2e-8f4b-d1e5dd8e9243 does not exist.
  ?[32mWhen ?[0m?[32mremoving existing customer ?[0m?[32m?[1mcef60f2c-f5eb-4e2e-8f4b-d1e5dd8e9243?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.removingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mNOT_FOUND?[0m                                ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m                  ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-09 14:25:23.410  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-09 14:25:23.411  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-09 14:25:23.413  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-09 14:25:23.414  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-09 14:25:23.414  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3743d16b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@b772e2b, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@357f1e59, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5c2900ed, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@75c85a8a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@47fc346e, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@abc771e, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@1e0630cc, org.springframework.test.context.transaction.TransactionalTestExecutionListener@29ad358c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@fd42b93, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@6639a9f0, org.springframework.test.context.event.EventPublishingTestExecutionListener@491665ab, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@9573850, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2771025a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@c2c496d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@76ed5e7e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@46c87d4b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6984d41a, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@70d8f66, io.zonky.test.db.event.EventPublishingTestExecutionListener@1b0f3f57]
2023-05-09 14:25:23.416  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario: replace one customer                                          ?[90m# features/update-customer.feature:11?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.firstname=? and jpacustome0_.lastname=?
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.id=?
Hibernate: update customer set firstname=?, lastname=?, id=? where pk=?
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | elvis      | presley   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mNO_CONTENT?[0m                                ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is the following?[0m                    ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIs(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | elvis      | presley   |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
2023-05-09 14:25:23.545  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-09 14:25:23.545  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-09 14:25:23.547  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-09 14:25:23.548  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-09 14:25:23.548  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@50cefed2, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@153740c7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1164d004, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@60d46bd7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@47cb3171, org.springframework.test.context.support.DirtiesContextTestExecutionListener@68d57037, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@5f0669d9, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@1c4f3b3d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@211d17c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@41865dc1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2da2bc89, org.springframework.test.context.event.EventPublishingTestExecutionListener@48d1fcd3, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@44474e84, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@375c6b98, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@f22cf0e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@48528d5d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@369fc9bd, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@62cb645d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7b088db5, io.zonky.test.db.event.EventPublishingTestExecutionListener@276ccfec]
2023-05-09 14:25:23.550  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: replace a customer with some invalid attributes       ?[90m# features/update-customer.feature:30?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
2023-05-09 14:25:23.664 ERROR 2483 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=PUT#/customers/ce751f30-217a-422c-b81b-8f75df4917b6 levels=ERROR messages=Validation failed.
[ERROR][REQUEST][PUT /customers/ce751f30-217a-422c-b81b-8f75df4917b6 @body] Object has missing required properties ([&quot;firstName&quot;,&quot;lastName&quot;])
2023-05-09 14:25:23.665  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;firstName\&quot;,\&quot;lastName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers/ce751f30-217a-422c-b81b-8f75df4917b6&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;PUT&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | [empty]    | [empty]   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m                   ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-09 14:25:23.675  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-09 14:25:23.675  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-09 14:25:23.677  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-09 14:25:23.678  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-09 14:25:23.678  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6f45872b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6c916b7e, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@4631ecf5, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2892b704, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6b2d01e2, org.springframework.test.context.support.DirtiesContextTestExecutionListener@c005d62, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@451f5e53, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@7808fb63, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7b29d791, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@754c6edb, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4a9e4be7, org.springframework.test.context.event.EventPublishingTestExecutionListener@75f27234, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@40d2a644, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@56fe2233, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6e879a78, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@882364e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5db7419c, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7aff1fa3, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@28790ede, io.zonky.test.db.event.EventPublishingTestExecutionListener@31d07dd9]
2023-05-09 14:25:23.680  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: replace a customer with some invalid attributes       ?[90m# features/update-customer.feature:31?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
2023-05-09 14:25:23.792 ERROR 2483 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=PUT#/customers/ce751f30-217a-422c-b81b-8f75df4917b6 levels=ERROR messages=Validation failed.
[ERROR][REQUEST][PUT /customers/ce751f30-217a-422c-b81b-8f75df4917b6 @body] Object has missing required properties ([&quot;lastName&quot;])
2023-05-09 14:25:23.793  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;lastName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers/ce751f30-217a-422c-b81b-8f75df4917b6&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;PUT&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | test       | [empty]   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m                   ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-09 14:25:23.802  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-09 14:25:23.803  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-09 14:25:23.805  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-09 14:25:23.806  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-09 14:25:23.806  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@44c01e8c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6d7232a5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6c769cd8, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3b7bc23a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7f8b9fa7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3906de9, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@5b58b11f, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@3e57d25c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1d021496, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1dfdddfa, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3335713, org.springframework.test.context.event.EventPublishingTestExecutionListener@3f6b01b, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@edda257, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7dbcbc7b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@642ef710, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@526ee5e6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@31423ae6, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@298517d1, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3a00f386, io.zonky.test.db.event.EventPublishingTestExecutionListener@1f6460f5]
2023-05-09 14:25:23.808  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: replace a customer with some invalid attributes       ?[90m# features/update-customer.feature:32?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
2023-05-09 14:25:23.920 ERROR 2483 --- [    Test worker] c.a.o.v.s.DefaultValidationReportHandler : OpenAPI location=REQUEST key=PUT#/customers/ce751f30-217a-422c-b81b-8f75df4917b6 levels=ERROR messages=Validation failed.
[ERROR][REQUEST][PUT /customers/ce751f30-217a-422c-b81b-8f75df4917b6 @body] Object has missing required properties ([&quot;firstName&quot;])
2023-05-09 14:25:23.921  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;firstName\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/customers/ce751f30-217a-422c-b81b-8f75df4917b6&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;PUT&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | [empty]    | test      |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m                   ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
2023-05-09 14:25:23.930  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap], using SpringBootContextLoader
2023-05-09 14:25:23.931  INFO 2483 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.customer.at.CustomerCucumberBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-09 14:25:23.933  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.Application for test class edu.obya.blueprint.customer.at.CustomerCucumberBootstrap
2023-05-09 14:25:23.933  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-09 14:25:23.934  INFO 2483 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@307b954, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@52fd6b76, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@278e4dc4, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@fbd1a1b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@314ecfa1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@8d1b425, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@5d643896, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@3aee9ce3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7d9a7fd8, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@786f8cd2, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4b3abc1, org.springframework.test.context.event.EventPublishingTestExecutionListener@4a742630, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@643ee419, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6033ed50, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7947bf34, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1269538a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@16463f2, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7e4257e3, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3ab8f900, io.zonky.test.db.event.EventPublishingTestExecutionListener@621508de]
2023-05-09 14:25:23.936  INFO 2483 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32771/fkzkfvfnrstk?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

@txn
Scenario Outline: replace a customer with some invalid attributes       ?[90m# features/update-customer.feature:33?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                       ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing customers?[0m                             ?[90m# edu.obya.blueprint.customer.at.steps.FixtureSteps.aFollowingSetOfExistingCustomers(java.util.List&lt;edu.obya.blueprint.customer.domain.model.Customer&gt;)?[0m
    | id                                   | first-name | last-name |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | john       | doe       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | bob        | dylan     |
Hibernate: select jpacustome0_.pk as pk1_0_, jpacustome0_.firstname as firstnam2_0_, jpacustome0_.lastname as lastname3_0_, jpacustome0_.id as id4_0_ from customer jpacustome0_ where jpacustome0_.firstname=? and jpacustome0_.lastname=?
2023-05-09 14:25:24.058  WARN 2483 --- [    Test worker] o.z.problem.spring.common.AdviceTraits   : Bad Request: customer bob dylan already exists.
  ?[32mWhen ?[0m?[32mreplacing existing customer ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# edu.obya.blueprint.customer.at.steps.ActionSteps.replacingExistingCustomerWithId(edu.obya.blueprint.customer.domain.model.CustomerId,java.util.List&lt;edu.obya.blueprint.customer.application.CustomerDto&gt;)?[0m
    | first-name | last-name |
    | bob        | dylan     |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                               ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theResponseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing customers is left unchanged?[0m                   ?[90m# edu.obya.blueprint.customer.at.steps.AssertionSteps.theSetOfExistingCustomersIsLeftUnchanged()?[0m
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 8.0.2</a> at May 9, 2023, 2:25:24 PM</p>
</div>
</div>
</body>
</html>
